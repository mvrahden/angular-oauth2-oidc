<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>angular-oauth2-oidc</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">angular-oauth2-oidc</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li>Injectables</li>
  <li >OAuthService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/lib/src/oauth-service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service for logging in and logging out with
OIDC and OAuth2. Supports implicit flow and
password flow.</p>

            </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#_storage" >_storage</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#accessTokenTimeoutSubscription" >accessTokenTimeoutSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#automaticRefreshSubscription" >automaticRefreshSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#discoveryDocumentLoadedSubject" >discoveryDocumentLoadedSubject</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#eventsSubject" >eventsSubject</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#grantTypesSupported" >grantTypesSupported</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#idTokenTimeoutSubscription" >idTokenTimeoutSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#inImplicitFlow" >inImplicitFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#jwksUri" >jwksUri</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#saveNoncesInLocalStorage" >saveNoncesInLocalStorage</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#sessionCheckEventListener" >sessionCheckEventListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#sessionCheckTimer" >sessionCheckTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#silentRefreshPostMessageEventListener" >silentRefreshPostMessageEventListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#silentRefreshSubject" >silentRefreshSubject</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#tokenReceivedSubscription" >tokenReceivedSubscription</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#assertUrlNotEmptyAndCorrectProtocol" >assertUrlNotEmptyAndCorrectProtocol</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#authorizationHeader" >authorizationHeader</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#calcTimeout" >calcTimeout</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#calculatePopupFeatures" >calculatePopupFeatures</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#canPerformSessionCheck" >canPerformSessionCheck</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#checkAtHash" >checkAtHash</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#checkSession" >checkSession</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#checkSignature" >checkSignature</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#clearAccessTokenTimer" >clearAccessTokenTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#clearAutomaticRefreshTimer" >clearAutomaticRefreshTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#clearIdTokenTimer" >clearIdTokenTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#configChanged" >configChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#configure" >configure</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#createChallangeVerifierPairForPKCE" >createChallangeVerifierPairForPKCE</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#createLoginUrl" >createLoginUrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#debug" >debug</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fetchTokenUsingGrant" >fetchTokenUsingGrant</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fetchTokenUsingPasswordFlow" >fetchTokenUsingPasswordFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fetchTokenUsingPasswordFlowAndLoadUserProfile" >fetchTokenUsingPasswordFlowAndLoadUserProfile</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getAccessToken" >getAccessToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getAccessTokenExpiration" >getAccessTokenExpiration</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#getAccessTokenStoredAt" >getAccessTokenStoredAt</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getCustomTokenResponseProperty" >getCustomTokenResponseProperty</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getGrantedScopes" >getGrantedScopes</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIdentityClaims" >getIdentityClaims</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIdToken" >getIdToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIdTokenExpiration" >getIdTokenExpiration</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#getIdTokenStoredAt" >getIdTokenStoredAt</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getRefreshToken" >getRefreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#getSessionState" >getSessionState</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#handleLoginError" >handleLoginError</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#handleSessionChange" >handleSessionChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#handleSessionError" >handleSessionError</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#handleSessionUnchanged" >handleSessionUnchanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hasValidAccessToken" >hasValidAccessToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hasValidIdToken" >hasValidIdToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#initCodeFlow" >initCodeFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#initImplicitFlow" >initImplicitFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#initLoginFlow" >initLoginFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#initLoginFlowInPopup" >initLoginFlowInPopup</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#initSessionCheck" >initSessionCheck</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadDiscoveryDocument" >loadDiscoveryDocument</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadDiscoveryDocumentAndLogin" >loadDiscoveryDocumentAndLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadDiscoveryDocumentAndTryLogin" >loadDiscoveryDocumentAndTryLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#loadJwks" >loadJwks</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadUserProfile" >loadUserProfile</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#logOut" >logOut</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#padBase64" >padBase64</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#processMessageEventMessage" >processMessageEventMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#refreshInternal" >refreshInternal</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#refreshToken" >refreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#removeSessionCheckEventListener" >removeSessionCheckEventListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#removeSilentRefreshEventListener" >removeSilentRefreshEventListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#restartRefreshTimerIfStillLoggedIn" >restartRefreshTimerIfStillLoggedIn</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#restartSessionChecksIfStillLoggedIn" >restartSessionChecksIfStillLoggedIn</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#revokeTokenAndLogout" >revokeTokenAndLogout</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#setTokenValidationHandler" >setTokenValidationHandler</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupAccessTokenTimer" >setupAccessTokenTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#setupAutomaticSilentRefresh" >setupAutomaticSilentRefresh</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupExpirationTimers" >setupExpirationTimers</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupIdTokenTimer" >setupIdTokenTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupRefreshTimer" >setupRefreshTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupSessionCheck" >setupSessionCheck</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupSessionCheckEventListener" >setupSessionCheckEventListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setupSilentRefreshEventListener" >setupSilentRefreshEventListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#silentRefresh" >silentRefresh</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#startSessionCheckTimer" >startSessionCheckTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#stopAutomaticRefresh" >stopAutomaticRefresh</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#stopSessionCheckTimer" >stopSessionCheckTimer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#storeAccessTokenResponse" >storeAccessTokenResponse</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#storeIdToken" >storeIdToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#storeSessionState" >storeSessionState</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#tryLogin" >tryLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#tryLoginCodeFlow" >tryLoginCodeFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#tryLoginImplicitFlow" >tryLoginImplicitFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#validateDiscoveryDocument" >validateDiscoveryDocument</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#validateNonce" >validateNonce</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#validateUrlAgainstIssuer" >validateUrlAgainstIssuer</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#validateUrlForHttps" >validateUrlForHttps</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#validateUrlFromDiscoveryDocument" >validateUrlFromDiscoveryDocument</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#waitForSilentRefreshAfterSessionChange" >waitForSilentRefreshAfterSessionChange</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#config" >config</a>
                                </li>
                                <li>
                                    <a href="#events" >events</a>
                                </li>
                                <li>
                                    <a href="#state" >state</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                                <span class="modifier">Public</span>
                        <code>constructor(ngZone: <a href="https://angular.io/api/core/NgZone" target="_blank">NgZone</a>, http: <a href="https://angular.io/api/common/http/HttpClient" target="_blank">HttpClient</a>, storage: <a href="../classes/OAuthStorage.html" target="_self">OAuthStorage</a>, tokenValidationHandler: <a href="../classes/ValidationHandler.html" target="_self">ValidationHandler</a>, config: <a href="../classes/AuthConfig.html" target="_self">AuthConfig</a>, urlHelper: <a href="../injectables/UrlHelperService.html" target="_self">UrlHelperService</a>, logger: <a href="../classes/OAuthLogger.html" target="_self">OAuthLogger</a>, crypto: <a href="../classes/HashHandler.html" target="_self">HashHandler</a>, document: Document, dateTimeService: <a href="../classes/DateTimeProvider.html" target="_self">DateTimeProvider</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">projects/lib/src/oauth-service.ts:48</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>ngZone</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/NgZone" target="_blank" >NgZone</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/common/http/HttpClient" target="_blank" >HttpClient</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>storage</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/OAuthStorage.html" target="_self" >OAuthStorage</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>tokenValidationHandler</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/ValidationHandler.html" target="_self" >ValidationHandler</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>config</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/AuthConfig.html" target="_self" >AuthConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>urlHelper</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UrlHelperService.html" target="_self" >UrlHelperService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>logger</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/OAuthLogger.html" target="_self" >OAuthLogger</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>crypto</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/HashHandler.html" target="_self" >HashHandler</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>document</td>
                                                  
                                                        <td>
                                                                    <code>Document</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dateTimeService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/DateTimeProvider.html" target="_self" >DateTimeProvider</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="assertUrlNotEmptyAndCorrectProtocol"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>assertUrlNotEmptyAndCorrectProtocol</b></span>
                        <a href="#assertUrlNotEmptyAndCorrectProtocol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>assertUrlNotEmptyAndCorrectProtocol(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, description: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="307"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:307</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>url</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>description</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="authorizationHeader"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>authorizationHeader</b></span>
                        <a href="#authorizationHeader"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>authorizationHeader()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2098"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2098</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the auth-header that can be used
to transmit the access_token to a service</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calcTimeout"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>calcTimeout</b></span>
                        <a href="#calcTimeout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calcTimeout(storedAt: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, expiration: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="424"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:424</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>storedAt</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>expiration</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculatePopupFeatures"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>calculatePopupFeatures</b></span>
                        <a href="#calculatePopupFeatures"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculatePopupFeatures(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1039"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1039</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canPerformSessionCheck"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>canPerformSessionCheck</b></span>
                        <a href="#canPerformSessionCheck"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>canPerformSessionCheck()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1069"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1069</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkAtHash"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>checkAtHash</b></span>
                        <a href="#checkAtHash"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkAtHash(params: <a href="../interfaces/ValidationParams.html" target="_self">ValidationParams</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2272"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2272</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="../interfaces/ValidationParams.html" target="_self" >ValidationParams</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkSession"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>checkSession</b></span>
                        <a href="#checkSession"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkSession()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1228"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1228</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkSignature"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>checkSignature</b></span>
                        <a href="#checkSignature"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkSignature(params: <a href="../interfaces/ValidationParams.html" target="_self">ValidationParams</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2280"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2280</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="../interfaces/ValidationParams.html" target="_self" >ValidationParams</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearAccessTokenTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>clearAccessTokenTimer</b></span>
                        <a href="#clearAccessTokenTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>clearAccessTokenTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="406"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:406</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearAutomaticRefreshTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>clearAutomaticRefreshTimer</b></span>
                        <a href="#clearAutomaticRefreshTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>clearAutomaticRefreshTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="418"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:418</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearIdTokenTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>clearIdTokenTimer</b></span>
                        <a href="#clearIdTokenTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>clearIdTokenTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="412"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:412</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="configChanged"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>configChanged</b></span>
                        <a href="#configChanged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>configChanged()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="161"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:161</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="configure"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>configure</b></span>
                        <a href="#configure"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>configure(config?: <a href="../classes/AuthConfig.html" target="_self">AuthConfig</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="144"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:144</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Use this method to configure the service.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../classes/AuthConfig.html" target="_self" >AuthConfig</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>the configuration</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createChallangeVerifierPairForPKCE"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>createChallangeVerifierPairForPKCE</b></span>
                        <a href="#createChallangeVerifierPairForPKCE"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createChallangeVerifierPairForPKCE()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2334"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2334</a></div>
                </td>
            </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createLoginUrl"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>createLoginUrl</b></span>
                        <a href="#createLoginUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createLoginUrl(state: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, loginHint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, customRedirectUri: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, noPrompt, params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1245"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1245</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>state</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>loginHint</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>customRedirectUri</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>noPrompt</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;string&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="debug"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>debug</b></span>
                        <a href="#debug"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>debug(...args: any[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="261"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:261</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>args</td>
                                    <td>
                                            <code>any[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchTokenUsingGrant"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>fetchTokenUsingGrant</b></span>
                        <a href="#fetchTokenUsingGrant"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchTokenUsingGrant(grantType: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, parameters: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, headers?: <a href="https://angular.io/api/common/http/HttpHeaders" target="_blank">HttpHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="688"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:688</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Uses a custom grant type to retrieve tokens.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>grantType</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Grant type.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>parameters</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Parameters to pass.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="https://angular.io/api/common/http/HttpHeaders" target="_blank" >HttpHeaders</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>Optional additional HTTP headers.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TokenResponse.html" target="_self" >Observable&lt;TokenResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchTokenUsingPasswordFlow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>fetchTokenUsingPasswordFlow</b></span>
                        <a href="#fetchTokenUsingPasswordFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchTokenUsingPasswordFlow(userName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="https://angular.io/api/common/http/HttpHeaders" target="_blank">HttpHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="669"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:669</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Uses password flow to exchange userName and password for an access_token.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>password</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="https://angular.io/api/common/http/HttpHeaders" target="_blank" >HttpHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>new HttpHeaders()</code>
                                    </td>

                                    <td>
                                        <p>Optional additional http-headers.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TokenResponse.html" target="_self" >Observable&lt;TokenResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchTokenUsingPasswordFlowAndLoadUserProfile"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>fetchTokenUsingPasswordFlowAndLoadUserProfile</b></span>
                        <a href="#fetchTokenUsingPasswordFlowAndLoadUserProfile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchTokenUsingPasswordFlowAndLoadUserProfile(userName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="https://angular.io/api/common/http/HttpHeaders" target="_blank">HttpHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="592"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:592</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Uses password flow to exchange userName and password for an
access_token. After receiving the access_token, this method
uses it to query the userinfo endpoint in order to get information
about the user in question.</p>
<p>When using this, make sure that the property oidc is set to false.
Otherwise stricter validations take place that make this operation
fail.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>password</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="https://angular.io/api/common/http/HttpHeaders" target="_blank" >HttpHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>new HttpHeaders()</code>
                                    </td>

                                    <td>
                                        <p>Optional additional http-headers.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;literal type&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAccessToken"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getAccessToken</b></span>
                        <a href="#getAccessToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAccessToken()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2008"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2008</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the current access_token.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>string | null</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAccessTokenExpiration"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getAccessTokenExpiration</b></span>
                        <a href="#getAccessTokenExpiration"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAccessTokenExpiration()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2020"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2020</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the expiration date of the access_token
as milliseconds since 1970.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>number | null</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAccessTokenStoredAt"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>getAccessTokenStoredAt</b></span>
                        <a href="#getAccessTokenStoredAt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAccessTokenStoredAt()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2027"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2027</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCustomTokenResponseProperty"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getCustomTokenResponseProperty</b></span>
                        <a href="#getCustomTokenResponseProperty"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCustomTokenResponseProperty(requestedProperty: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2084"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2084</a></div>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Type parameters :</b>
                    <ul class="type-parameters">
                        <li>T</li>
                    </ul>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Retrieve a saved custom property of the TokenReponse object. Only if predefined in authconfig.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>requestedProperty</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>T | null</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getGrantedScopes"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getGrantedScopes</b></span>
                        <a href="#getGrantedScopes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getGrantedScopes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1983"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1983</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the granted scopes from the server.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIdentityClaims"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getIdentityClaims</b></span>
                        <a href="#getIdentityClaims"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getIdentityClaims()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1974"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1974</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the received claims about the user.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>object | null</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIdToken"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getIdToken</b></span>
                        <a href="#getIdToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getIdToken()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1994"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1994</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the current id_token.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>string | null</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIdTokenExpiration"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getIdTokenExpiration</b></span>
                        <a href="#getIdTokenExpiration"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getIdTokenExpiration()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2039"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2039</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the expiration date of the id_token
as milliseconds since 1970.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>number | null</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIdTokenStoredAt"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>getIdTokenStoredAt</b></span>
                        <a href="#getIdTokenStoredAt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getIdTokenStoredAt()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2031"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2031</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRefreshToken"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getRefreshToken</b></span>
                        <a href="#getRefreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRefreshToken()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2012"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2012</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>string | null</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSessionState"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>getSessionState</b></span>
                        <a href="#getSessionState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getSessionState()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1796"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1796</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleLoginError"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>handleLoginError</b></span>
                        <a href="#handleLoginError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleLoginError(options: <a href="../classes/LoginOptions.html" target="_self">LoginOptions</a>, parts: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, type: <a href="../undefineds/EventType.html" target="_self">EventType</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1800"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1800</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>parts</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>type</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#EventType" target="_self" >EventType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleSessionChange"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>handleSessionChange</b></span>
                        <a href="#handleSessionChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleSessionChange()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1137"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1137</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleSessionError"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>handleSessionError</b></span>
                        <a href="#handleSessionError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleSessionError()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1179"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1179</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleSessionUnchanged"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>handleSessionUnchanged</b></span>
                        <a href="#handleSessionUnchanged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleSessionUnchanged()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1132"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1132</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasValidAccessToken"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>hasValidAccessToken</b></span>
                        <a href="#hasValidAccessToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hasValidAccessToken()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2050"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2050</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Checkes, whether there is a valid access_token.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasValidIdToken"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>hasValidIdToken</b></span>
                        <a href="#hasValidIdToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hasValidIdToken()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2067"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2067</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Checks whether there is a valid id_token.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initCodeFlow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>initCodeFlow</b></span>
                        <a href="#initCodeFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initCodeFlow(additionalState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2304"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2304</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Starts the authorization code flow and redirects to user to
the auth servers login url.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>additionalState</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initImplicitFlow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>initImplicitFlow</b></span>
                        <a href="#initImplicitFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initImplicitFlow(additionalState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: string | object)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1386"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1386</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Starts the implicit flow and redirects to user to
the auth servers&#39; login url.</p>
<p> You&#39;ll find this state in the property <code>state</code> after <code>tryLogin</code> logged in the user.
              parameter loginHint (for the sake of compatibility with former versions)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>additionalState</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                    <td>
                                        <p>Optional state that is passed around.
You&#39;ll find this state in the property <code>state</code> after <code>tryLogin</code> logged in the user.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                            <code>string | object</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                    <td>
                                        <p>Hash with additional parameter. If it is a string, it is used for the
parameter loginHint (for the sake of compatibility with former versions)</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initLoginFlow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>initLoginFlow</b></span>
                        <a href="#initLoginFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initLoginFlow(additionalState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2292"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2292</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Start the implicit flow or the code flow,
depending on your configuration.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>additionalState</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;&#x27;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initLoginFlowInPopup"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>initLoginFlowInPopup</b></span>
                        <a href="#initLoginFlowInPopup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initLoginFlowInPopup(options?: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="955"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:955</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This method <a href="../injectables/OAuthService.html#initLoginFlowInPopup">OAuthService</a> handles both code
and implicit flows.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initSessionCheck"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>initSessionCheck</b></span>
                        <a href="#initSessionCheck"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initSessionCheck()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1191"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1191</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDiscoveryDocument"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>loadDiscoveryDocument</b></span>
                        <a href="#loadDiscoveryDocument"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadDiscoveryDocument(fullUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="444"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:444</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Loads the discovery document to configure most
properties of this service. The url of the discovery
document is infered from the issuer&#39;s url according
to the OpenId Connect spec. To use another url you
can pass it to to optional parameter fullUrl.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fullUrl</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OidcDiscoveryDoc.html" target="_self" >Observable&lt;OidcDiscoveryDoc&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDiscoveryDocumentAndLogin"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>loadDiscoveryDocumentAndLogin</b></span>
                        <a href="#loadDiscoveryDocumentAndLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadDiscoveryDocumentAndLogin(options?)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="249"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:249</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Convenience method that first calls <code>loadDiscoveryDocumentAndTryLogin(...)</code>
and if then chains to <code>initLoginFlow()</code>, but only if there is no valid
IdToken or no valid AccessToken.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>LoginOptions to pass through to <code>tryLogin(...)</code></p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDiscoveryDocumentAndTryLogin"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>loadDiscoveryDocumentAndTryLogin</b></span>
                        <a href="#loadDiscoveryDocumentAndTryLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadDiscoveryDocumentAndTryLogin(options?: <a href="../classes/LoginOptions.html" target="_self">LoginOptions</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="238"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:238</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Convenience method that first calls <code>loadDiscoveryDocument(...)</code> and
directly chains using the <code>then(...)</code> part of the promise to call
the <code>tryLogin(...)</code> method.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>LoginOptions to pass through to <code>tryLogin(...)</code></p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadJwks"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>loadJwks</b></span>
                        <a href="#loadJwks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadJwks()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="502"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:502</a></div>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Type parameters :</b>
                    <ul class="type-parameters">
                        <li>T</li>
                    </ul>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;T&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadUserProfile"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>loadUserProfile</b></span>
                        <a href="#loadUserProfile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadUserProfile()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="614"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:614</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Loads the user profile by accessing the user info endpoint defined by OpenId Connect.</p>
<p>When using this with OAuth2 password flow, make sure that the property oidc is set to false.
Otherwise stricter validations take place that make this operation fail.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/UserInfo.html" target="_self" >Observable&lt;UserInfo&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logOut"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>logOut</b></span>
                        <a href="#logOut"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logOut(noRedirectToLogoutUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, customParameters?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, state?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2110"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2110</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Removes all tokens and logs the user out.
If a logout url is configured, the user is
redirected to it with optional state parameter.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>noRedirectToLogoutUrl</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>customParameters</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>state</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="padBase64"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>padBase64</b></span>
                        <a href="#padBase64"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>padBase64(base64data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1998"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1998</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>base64data</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processMessageEventMessage"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>processMessageEventMessage</b></span>
                        <a href="#processMessageEventMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processMessageEventMessage(e: MessageEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1049"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1049</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                            <code>MessageEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refreshInternal"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>refreshInternal</b></span>
                        <a href="#refreshInternal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>refreshInternal(params, noPrompt)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="224"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:224</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>params</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>noPrompt</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TokenResponse.html" target="_self" >Observable&lt;TokenResponse | OAuthEvent&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refreshToken"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>refreshToken</b></span>
                        <a href="#refreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>refreshToken()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="775"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:775</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Refreshes the token using a refresh_token.
This does not work for implicit flow, b/c
there is no refresh_token in this flow.
A solution for this is provided by the
method silentRefresh.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TokenResponse.html" target="_self" >Observable&lt;TokenResponse&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeSessionCheckEventListener"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>removeSessionCheckEventListener</b></span>
                        <a href="#removeSessionCheckEventListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>removeSessionCheckEventListener()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1184"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1184</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeSilentRefreshEventListener"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>removeSilentRefreshEventListener</b></span>
                        <a href="#removeSilentRefreshEventListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>removeSilentRefreshEventListener()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="848"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:848</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="restartRefreshTimerIfStillLoggedIn"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>restartRefreshTimerIfStillLoggedIn</b></span>
                        <a href="#restartRefreshTimerIfStillLoggedIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>restartRefreshTimerIfStillLoggedIn()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="171"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:171</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="restartSessionChecksIfStillLoggedIn"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>restartSessionChecksIfStillLoggedIn</b></span>
                        <a href="#restartSessionChecksIfStillLoggedIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>restartSessionChecksIfStillLoggedIn()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="165"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:165</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="revokeTokenAndLogout"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>revokeTokenAndLogout</b></span>
                        <a href="#revokeTokenAndLogout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>revokeTokenAndLogout(logoutOpts: literal type, ignoreCorsIssues)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2366"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:2366</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Revokes the auth token to secure the vulnarability
of the token issued allowing the authorization server to clean
up any security credentials associated with the authorization</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>logoutOpts</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>ignoreCorsIssues</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setTokenValidationHandler"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>setTokenValidationHandler</b></span>
                        <a href="#setTokenValidationHandler"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setTokenValidationHandler(v: <a href="../classes/ValidationHandler.html" target="_self">ValidationHandler | undefined</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="100"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:100</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>v</td>
                                    <td>
                                                <code><a href="../classes/ValidationHandler.html" target="_self" >ValidationHandler | undefined</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupAccessTokenTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupAccessTokenTimer</b></span>
                        <a href="#setupAccessTokenTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupAccessTokenTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="364"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:364</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupAutomaticSilentRefresh"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>setupAutomaticSilentRefresh</b></span>
                        <a href="#setupAutomaticSilentRefresh"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupAutomaticSilentRefresh(params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, listenTo?: "access_token" | "id_token" | "any", noPrompt)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="190"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:190</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Will setup up silent refreshing for when the token is
about to expire. When the user is logged out via this.logOut method, the
silent refreshing will pause and not refresh the tokens until the user is
logged back in via receiving a new token.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Additional parameter to pass</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>listenTo</td>
                                    <td>
                                            <code>&quot;access_token&quot; | &quot;id_token&quot; | &quot;any&quot;</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>Setup automatic refresh of a specific token type</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>noPrompt</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupExpirationTimers"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupExpirationTimers</b></span>
                        <a href="#setupExpirationTimers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupExpirationTimers()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="354"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:354</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupIdTokenTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupIdTokenTimer</b></span>
                        <a href="#setupIdTokenTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupIdTokenTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="380"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:380</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupRefreshTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupRefreshTimer</b></span>
                        <a href="#setupRefreshTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupRefreshTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="333"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:333</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupSessionCheck"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupSessionCheck</b></span>
                        <a href="#setupSessionCheck"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupSessionCheck()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="175"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:175</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupSessionCheckEventListener"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupSessionCheckEventListener</b></span>
                        <a href="#setupSessionCheckEventListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupSessionCheckEventListener()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1089"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1089</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupSilentRefreshEventListener"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setupSilentRefreshEventListener</b></span>
                        <a href="#setupSilentRefreshEventListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupSilentRefreshEventListener()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="854"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:854</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="silentRefresh"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>silentRefresh</b></span>
                        <a href="#silentRefresh"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>silentRefresh(params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, noPrompt)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="877"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:877</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Performs a silent refresh for implicit flow.
Use this method to get new tokens when/before
the existing tokens expire.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>noPrompt</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/OAuthEvent.html" target="_self" >Observable&lt;OAuthEvent&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startSessionCheckTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>startSessionCheckTimer</b></span>
                        <a href="#startSessionCheckTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>startSessionCheckTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1214"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1214</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopAutomaticRefresh"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>stopAutomaticRefresh</b></span>
                        <a href="#stopAutomaticRefresh"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>stopAutomaticRefresh()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="400"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:400</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Stops timers for automatic refresh.
To restart it, call setupAutomaticSilentRefresh again.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopSessionCheckTimer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>stopSessionCheckTimer</b></span>
                        <a href="#stopSessionCheckTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>stopSessionCheckTimer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1221"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1221</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="storeAccessTokenResponse"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>storeAccessTokenResponse</b></span>
                        <a href="#storeAccessTokenResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>storeAccessTokenResponse(accessToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, refreshToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, expiresIn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, grantedScopes: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, customParameters?: Map<string | string>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1396"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1396</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>accessToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>refreshToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>expiresIn</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>grantedScopes</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>customParameters</td>
                                    <td>
                                            <code>Map&lt;string | string&gt;</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="storeIdToken"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>storeIdToken</b></span>
                        <a href="#storeIdToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>storeIdToken(idToken: <a href="../interfaces/ParsedIdToken.html" target="_self">ParsedIdToken</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1785"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1785</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>idToken</td>
                                    <td>
                                                <code><a href="../interfaces/ParsedIdToken.html" target="_self" >ParsedIdToken</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="storeSessionState"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>storeSessionState</b></span>
                        <a href="#storeSessionState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>storeSessionState(sessionState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1792"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1792</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sessionState</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tryLogin"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>tryLogin</b></span>
                        <a href="#tryLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>tryLogin(options?: <a href="../classes/LoginOptions.html" target="_self">LoginOptions</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1433"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1433</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Delegates to tryLoginImplicitFlow for the sake of competability.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>Optional options.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tryLoginCodeFlow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>tryLoginCodeFlow</b></span>
                        <a href="#tryLoginCodeFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>tryLoginCodeFlow(options?: <a href="../classes/LoginOptions.html" target="_self">LoginOptions</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1453"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1453</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tryLoginImplicitFlow"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>tryLoginImplicitFlow</b></span>
                        <a href="#tryLoginImplicitFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>tryLoginImplicitFlow(options?: <a href="../classes/LoginOptions.html" target="_self">LoginOptions</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1663"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1663</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Checks whether there are tokens in the hash fragment
as a result of the implicit flow. These tokens are
parsed, validated and used to sign the user in to the
current client.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>Optional options.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateDiscoveryDocument"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>validateDiscoveryDocument</b></span>
                        <a href="#validateDiscoveryDocument"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateDiscoveryDocument(doc: <a href="../interfaces/OidcDiscoveryDoc.html" target="_self">OidcDiscoveryDoc</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="521"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:521</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>doc</td>
                                    <td>
                                                <code><a href="../interfaces/OidcDiscoveryDoc.html" target="_self" >OidcDiscoveryDoc</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateNonce"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>validateNonce</b></span>
                        <a href="#validateNonce"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateNonce(nonceInState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1775"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1775</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nonceInState</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateUrlAgainstIssuer"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>validateUrlAgainstIssuer</b></span>
                        <a href="#validateUrlAgainstIssuer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateUrlAgainstIssuer(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="323"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:323</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>url</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateUrlForHttps"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>validateUrlForHttps</b></span>
                        <a href="#validateUrlForHttps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateUrlForHttps(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="286"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:286</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>url</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateUrlFromDiscoveryDocument"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>validateUrlFromDiscoveryDocument</b></span>
                        <a href="#validateUrlFromDiscoveryDocument"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateUrlFromDiscoveryDocument(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="267"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:267</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>url</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>string[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="waitForSilentRefreshAfterSessionChange"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>waitForSilentRefreshAfterSessionChange</b></span>
                        <a href="#waitForSilentRefreshAfterSessionChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>waitForSilentRefreshAfterSessionChange()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1161"
                            class="link-to-prism">projects/lib/src/oauth-service.ts:1161</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_storage"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>_storage</b></span>
                        <a href="#_storage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/OAuthStorage.html" target="_self" >OAuthStorage</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">projects/lib/src/oauth-service.ts:37</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="accessTokenTimeoutSubscription"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>accessTokenTimeoutSubscription</b></span>
                        <a href="#accessTokenTimeoutSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">projects/lib/src/oauth-service.ts:38</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="automaticRefreshSubscription"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>automaticRefreshSubscription</b></span>
                        <a href="#automaticRefreshSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">projects/lib/src/oauth-service.ts:41</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="discoveryDocumentLoadedSubject"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>discoveryDocumentLoadedSubject</b></span>
                        <a href="#discoveryDocumentLoadedSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/OidcDiscoveryDoc.html" target="_self" >Subject&lt;OidcDiscoveryDoc&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;OidcDiscoveryDoc&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">projects/lib/src/oauth-service.ts:34</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="eventsSubject"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>eventsSubject</b></span>
                        <a href="#eventsSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/OAuthEvent.html" target="_self" >Subject&lt;OAuthEvent&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;OAuthEvent&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">projects/lib/src/oauth-service.ts:33</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="grantTypesSupported"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>grantTypesSupported</b></span>
                        <a href="#grantTypesSupported"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;string&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">projects/lib/src/oauth-service.ts:36</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="idTokenTimeoutSubscription"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>idTokenTimeoutSubscription</b></span>
                        <a href="#idTokenTimeoutSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">projects/lib/src/oauth-service.ts:39</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inImplicitFlow"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>inImplicitFlow</b></span>
                        <a href="#inImplicitFlow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">projects/lib/src/oauth-service.ts:46</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="jwksUri"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>jwksUri</b></span>
                        <a href="#jwksUri"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">projects/lib/src/oauth-service.ts:43</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveNoncesInLocalStorage"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>saveNoncesInLocalStorage</b></span>
                        <a href="#saveNoncesInLocalStorage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">projects/lib/src/oauth-service.ts:48</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sessionCheckEventListener"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>sessionCheckEventListener</b></span>
                        <a href="#sessionCheckEventListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventListener</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">projects/lib/src/oauth-service.ts:42</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sessionCheckTimer"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>sessionCheckTimer</b></span>
                        <a href="#sessionCheckTimer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">projects/lib/src/oauth-service.ts:44</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="silentRefreshPostMessageEventListener"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>silentRefreshPostMessageEventListener</b></span>
                        <a href="#silentRefreshPostMessageEventListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventListener</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">projects/lib/src/oauth-service.ts:35</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="silentRefreshSubject"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>silentRefreshSubject</b></span>
                        <a href="#silentRefreshSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">projects/lib/src/oauth-service.ts:45</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tokenReceivedSubscription"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                        <span ><b>tokenReceivedSubscription</b></span>
                        <a href="#tokenReceivedSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">projects/lib/src/oauth-service.ts:40</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="config"></a>
                        <span class="name"><b>config</b><a href="#config"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>config()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">projects/lib/src/oauth-service.ts:96</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="events"></a>
                        <span class="name"><b>events</b><a href="#events"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>events()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">projects/lib/src/oauth-service.ts:109</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="state"></a>
                        <span class="name"><b>state</b><a href="#state"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>state()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="120" class="link-to-prism">projects/lib/src/oauth-service.ts:120</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, NgZone, Optional, OnDestroy, Inject } from &#x27;@angular/core&#x27;
import { HttpClient, HttpHeaders, HttpParams, HttpErrorResponse } from &#x27;@angular/common/http&#x27;
import { Observable, Subject, Subscription, of, race, combineLatest, throwError, iif, defer } from &#x27;rxjs&#x27;
import { filter, delay, first, tap, map, debounceTime, catchError, finalize, mergeMap, takeWhile } from &#x27;rxjs/operators&#x27;
import { DOCUMENT } from &#x27;@angular/common&#x27;
import { DateTimeProvider } from &#x27;./date-time-provider&#x27;

import { ValidationHandler, ValidationParams } from &#x27;./token-validation/validation-handler&#x27;
import { UrlHelperService } from &#x27;./url-helper.service&#x27;
import { OAuthEvent, OAuthInfoEvent, OAuthErrorEvent, OAuthSuccessEvent } from &#x27;./events&#x27;
import {
  OAuthLogger,
  OAuthStorage,
  LoginOptions,
  ParsedIdToken,
  OidcDiscoveryDoc,
  TokenResponse,
  UserInfo,
} from &#x27;./types&#x27;
import { b64DecodeUnicode, base64UrlEncode } from &#x27;./base64-helper&#x27;
import { AuthConfig } from &#x27;./auth.config&#x27;
import { WebHttpUrlEncodingCodec } from &#x27;./encoder&#x27;
import { HashHandler } from &#x27;./token-validation/hash-handler&#x27;
import { EventType } from &#x27;./events&#x27;

/**
 * Service for logging in and logging out with
 * OIDC and OAuth2. Supports implicit flow and
 * password flow.
 */
@Injectable()
export class OAuthService implements OnDestroy {
  protected eventsSubject: Subject&lt;OAuthEvent&gt; &#x3D; new Subject&lt;OAuthEvent&gt;()
  protected discoveryDocumentLoadedSubject: Subject&lt;OidcDiscoveryDoc&gt; &#x3D; new Subject&lt;OidcDiscoveryDoc&gt;()
  protected silentRefreshPostMessageEventListener: EventListener
  protected grantTypesSupported: Array&lt;string&gt; &#x3D; []
  protected _storage: OAuthStorage
  protected accessTokenTimeoutSubscription: Subscription
  protected idTokenTimeoutSubscription: Subscription
  protected tokenReceivedSubscription: Subscription
  protected automaticRefreshSubscription: Subscription
  protected sessionCheckEventListener: EventListener
  protected jwksUri: string
  protected sessionCheckTimer: any
  protected silentRefreshSubject: string
  protected inImplicitFlow &#x3D; false

  protected saveNoncesInLocalStorage &#x3D; false

  public constructor(
    protected ngZone: NgZone,
    protected http: HttpClient,
    @Optional() storage: OAuthStorage,
    private tokenValidationHandler: ValidationHandler,
    @Optional() config: AuthConfig,
    protected urlHelper: UrlHelperService,
    protected logger: OAuthLogger,
    @Optional() protected crypto: HashHandler,
    @Inject(DOCUMENT) private document: Document,
    protected dateTimeService: DateTimeProvider
  ) {
    this.debug(&#x27;angular-oauth2-oidc v13&#x27;)

    this._events &#x3D; this.eventsSubject.asObservable()

    if (config) {
      config &#x3D; config ? config : {}
      this.configure(config)
    }

    if (storage) {
      this._setStorage(storage)
    } else if (typeof sessionStorage !&#x3D;&#x3D; &#x27;undefined&#x27;) {
      this._setStorage(sessionStorage)
    } else {
      console.error(
        &#x27;No OAuthStorage provided and cannot access default (sessionStorage).&#x27; +
        &#x27;Consider providing a custom OAuthStorage implementation in your module.&#x27;
      )
    }

    // in IE, sessionStorage does not always survive a redirect
    if (this.checkLocalStorageAccessable()) {
      const ua &#x3D; window?.navigator?.userAgent
      const msie &#x3D; ua?.includes(&#x27;MSIE &#x27;) || ua?.includes(&#x27;Trident&#x27;)

      if (msie) {
        this.saveNoncesInLocalStorage &#x3D; true
      }
    }

    this.setupRefreshTimer()
  }

  private _config: AuthConfig &#x3D; {}
  public get config(): AuthConfig {
    return this._config
  }

  public setTokenValidationHandler(v: ValidationHandler | undefined) {
    this.tokenValidationHandler &#x3D; v
  }

  /**
   * Informs about events, like token_received or token_expires.
   * See the string enum EventType for a full list of event types.
   */
  private _events: Observable&lt;OAuthEvent&gt;
  public get events(): Observable&lt;OAuthEvent&gt; {
    return this._events
  }

  /**
   * The received (passed around) state, when logging
   * in with implicit flow.
   *
   * @deprecated
   */
  private _state?: string &#x3D; &#x27;&#x27;
  public get state(): string | undefined {
    return this._state
  }

  private checkLocalStorageAccessable() {
    if (typeof window &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) return false

    const test &#x3D; &#x27;test&#x27;
    try {
      if (typeof window[&#x27;localStorage&#x27;] &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) return false

      localStorage.setItem(test, test)
      localStorage.removeItem(test)
      return true
    } catch (e) {
      return false
    }
  }

  /**
   * Use this method to configure the service.
   *
   * @param config the configuration
   */
  public configure(config?: AuthConfig): void {
    config &#x3D; config ? config : {}
    // For the sake of downward compatibility with
    // original configuration API
    Object.assign(this, new AuthConfig(), config)

    if (!config.issuer) throw new Error(&#x27;missing issuer in configuration&#x27;)

    this._config &#x3D; Object.assign({} as AuthConfig, new AuthConfig(), config)

    if (this.config.sessionChecksEnabled) {
      this.setupSessionCheck()
    }

    this.configChanged()
  }

  protected configChanged(): void {
    this.setupRefreshTimer()
  }

  public restartSessionChecksIfStillLoggedIn(): void {
    if (this.hasValidIdToken()) {
      this.initSessionCheck()
    }
  }

  protected restartRefreshTimerIfStillLoggedIn(): void {
    this.setupExpirationTimers()
  }

  protected setupSessionCheck(): void {
    this.events.pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;)).subscribe((e) &#x3D;&gt; {
      this.initSessionCheck()
    })
  }

  /**
   * Will setup up silent refreshing for when the token is
   * about to expire. When the user is logged out via this.logOut method, the
   * silent refreshing will pause and not refresh the tokens until the user is
   * logged back in via receiving a new token.
   *
   * @param params Additional parameter to pass
   * @param listenTo Setup automatic refresh of a specific token type
   */
  public setupAutomaticSilentRefresh(
    params: object &#x3D; {},
    listenTo?: &#x27;access_token&#x27; | &#x27;id_token&#x27; | &#x27;any&#x27;,
    noPrompt &#x3D; true
  ): void {
    let shouldRunSilentRefresh &#x3D; true
    this.clearAutomaticRefreshTimer()
    this.automaticRefreshSubscription &#x3D; this.events
      .pipe(
        tap((e) &#x3D;&gt; {
          if (e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;) {
            shouldRunSilentRefresh &#x3D; true
          } else if (e.type &#x3D;&#x3D;&#x3D; &#x27;logout&#x27;) {
            shouldRunSilentRefresh &#x3D; false
          }
        }),
        filter(
          (e: OAuthInfoEvent) &#x3D;&gt;
            e.type &#x3D;&#x3D;&#x3D; &#x27;token_expires&#x27; &amp;&amp; (listenTo &#x3D;&#x3D; null || listenTo &#x3D;&#x3D;&#x3D; &#x27;any&#x27; || e.info &#x3D;&#x3D;&#x3D; listenTo)
        ),
        debounceTime(1000)
      )
      .subscribe((_) &#x3D;&gt; {
        if (shouldRunSilentRefresh) {
          // this.silentRefresh(params, noPrompt).catch(_ &#x3D;&gt; {
          this.refreshInternal(params, noPrompt).subscribe({
            error: err &#x3D;&gt; this.debug(&#x27;Automatic silent refresh did not work&#x27;, err),
          })
        }
      })

    this.restartRefreshTimerIfStillLoggedIn()
  }

  protected refreshInternal(params, noPrompt): Observable&lt;TokenResponse | OAuthEvent&gt; {
    if (!this.config.useSilentRefresh &amp;&amp; this.config.responseType &#x3D;&#x3D;&#x3D; &#x27;code&#x27;) {
      return this.refreshToken()
    }
    return this.silentRefresh(params, noPrompt)
  }

  /**
   * Convenience method that first calls &#x60;loadDiscoveryDocument(...)&#x60; and
   * directly chains using the &#x60;then(...)&#x60; part of the promise to call
   * the &#x60;tryLogin(...)&#x60; method.
   *
   * @param options LoginOptions to pass through to &#x60;tryLogin(...)&#x60;
   */
  public loadDiscoveryDocumentAndTryLogin(options?: LoginOptions): Observable&lt;boolean&gt; {
    return this.loadDiscoveryDocument().pipe(mergeMap(() &#x3D;&gt; this.tryLogin(options)))
  }

  /**
   * Convenience method that first calls &#x60;loadDiscoveryDocumentAndTryLogin(...)&#x60;
   * and if then chains to &#x60;initLoginFlow()&#x60;, but only if there is no valid
   * IdToken or no valid AccessToken.
   *
   * @param options LoginOptions to pass through to &#x60;tryLogin(...)&#x60;
   */
  public loadDiscoveryDocumentAndLogin(options?: LoginOptions &amp; { state?: string }): Observable&lt;boolean&gt; {
    options &#x3D; options || {}
    return this.loadDiscoveryDocumentAndTryLogin(options).pipe(
      map(() &#x3D;&gt; {
        if (this.hasValidIdToken() &amp;&amp; this.hasValidAccessToken()) return true
        const state &#x3D; typeof options.state &#x3D;&#x3D;&#x3D; &#x27;string&#x27; ? options.state : &#x27;&#x27;
        this.initLoginFlow(state)
        return false
      })
    )
  }

  protected debug(...args): void {
    if (this.config.showDebugInformation) {
      this.logger.debug.apply(this.logger, args)
    }
  }

  protected validateUrlFromDiscoveryDocument(url: string): string[] {
    const errors: string[] &#x3D; []
    const httpsCheck &#x3D; this.validateUrlForHttps(url)
    const issuerCheck &#x3D; this.validateUrlAgainstIssuer(url)

    if (!httpsCheck) {
      errors.push(&#x27;https for all urls required. Also for urls received by discovery.&#x27;)
    }

    if (!issuerCheck) {
      errors.push(
        &#x27;Every url in discovery document has to start with the issuer url.&#x27; +
        &#x27;Also see property strictDiscoveryDocumentValidation.&#x27;
      )
    }

    return errors
  }

  protected validateUrlForHttps(url: string): boolean {
    if (!url) {
      return true
    }

    const lcUrl &#x3D; url.toLowerCase()

    if (this.config.requireHttps &#x3D;&#x3D;&#x3D; false) {
      return true
    }

    if (
      (lcUrl.match(/^http:\/\/localhost($|[:\/])/) || lcUrl.match(/^http:\/\/localhost($|[:\/])/)) &amp;&amp;
      this.config.requireHttps &#x3D;&#x3D;&#x3D; &#x27;remoteOnly&#x27;
    ) {
      return true
    }

    return lcUrl.startsWith(&#x27;https://&#x27;)
  }

  protected assertUrlNotEmptyAndCorrectProtocol(url: string, description: string) {
    if (!url) {
      throw new Error(&#x60;&#x27;${description}&#x27; URL should not be empty&#x60;)
    }
    if (!this.validateUrlForHttps(url)) {
      throw new Error(OAuthService.mustUseHTTPS(description))
    }
  }

  private static mustUseHTTPS(subject: string): string {
    return (
      &#x60;&#x27;${subject}&#x27; must use HTTPS (with TLS), or config value for property &#x60; +
      &#x60;&#x27;requireHttps&#x27; must be set to &#x27;false&#x27; and allow HTTP (without TLS).&#x60;
    )
  }

  protected validateUrlAgainstIssuer(url: string) {
    if (!this.config.strictDiscoveryDocumentValidation) {
      return true
    }
    if (!url) {
      return true
    }
    return url.toLowerCase().startsWith(this.config.issuer.toLowerCase())
  }

  protected setupRefreshTimer(): void {
    if (typeof window &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) {
      this.debug(&#x27;timer not supported on this plattform&#x27;)
      return
    }

    if (this.hasValidIdToken() || this.hasValidAccessToken()) {
      this.clearAccessTokenTimer()
      this.clearIdTokenTimer()
      this.setupExpirationTimers()
    }

    if (this.tokenReceivedSubscription) this.tokenReceivedSubscription.unsubscribe()

    this.tokenReceivedSubscription &#x3D; this.events.pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;)).subscribe((_) &#x3D;&gt; {
      this.clearAccessTokenTimer()
      this.clearIdTokenTimer()
      this.setupExpirationTimers()
    })
  }

  protected setupExpirationTimers(): void {
    if (this.hasValidAccessToken()) {
      this.setupAccessTokenTimer()
    }

    if (this.hasValidIdToken()) {
      this.setupIdTokenTimer()
    }
  }

  protected setupAccessTokenTimer(): void {
    const expiration &#x3D; this.getAccessTokenExpiration()
    const storedAt &#x3D; this.getAccessTokenStoredAt()
    const timeout &#x3D; this.calcTimeout(storedAt, expiration)

    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      this.accessTokenTimeoutSubscription &#x3D; of(new OAuthInfoEvent(&#x27;token_expires&#x27;, &#x27;access_token&#x27;))
        .pipe(delay(timeout))
        .subscribe((e) &#x3D;&gt; {
          this.ngZone.run(() &#x3D;&gt; {
            this.eventsSubject.next(e)
          })
        })
    })
  }

  protected setupIdTokenTimer(): void {
    const expiration &#x3D; this.getIdTokenExpiration()
    const storedAt &#x3D; this.getIdTokenStoredAt()
    const timeout &#x3D; this.calcTimeout(storedAt, expiration)

    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      this.idTokenTimeoutSubscription &#x3D; of(new OAuthInfoEvent(&#x27;token_expires&#x27;, &#x27;id_token&#x27;))
        .pipe(delay(timeout))
        .subscribe((e) &#x3D;&gt; {
          this.ngZone.run(() &#x3D;&gt; {
            this.eventsSubject.next(e)
          })
        })
    })
  }

  /**
   * Stops timers for automatic refresh.
   * To restart it, call setupAutomaticSilentRefresh again.
   */
  public stopAutomaticRefresh() {
    this.clearAccessTokenTimer()
    this.clearIdTokenTimer()
    this.clearAutomaticRefreshTimer()
  }

  protected clearAccessTokenTimer(): void {
    if (this.accessTokenTimeoutSubscription) {
      this.accessTokenTimeoutSubscription.unsubscribe()
    }
  }

  protected clearIdTokenTimer(): void {
    if (this.idTokenTimeoutSubscription) {
      this.idTokenTimeoutSubscription.unsubscribe()
    }
  }

  protected clearAutomaticRefreshTimer(): void {
    if (this.automaticRefreshSubscription) {
      this.automaticRefreshSubscription.unsubscribe()
    }
  }

  protected calcTimeout(storedAt: number, expiration: number): number {
    const now &#x3D; this.dateTimeService.now()
    const delta &#x3D; (expiration - storedAt) * this.config.timeoutFactor - (now - storedAt)
    return Math.max(0, delta)
  }

  private _setStorage(storage: OAuthStorage): void {
    this._storage &#x3D; storage
    this.configChanged()
  }

  /**
   * Loads the discovery document to configure most
   * properties of this service. The url of the discovery
   * document is infered from the issuer&#x27;s url according
   * to the OpenId Connect spec. To use another url you
   * can pass it to to optional parameter fullUrl.
   *
   * @param fullUrl
   */
  public loadDiscoveryDocument(fullUrl: string &#x3D; null): Observable&lt;OidcDiscoveryDoc&gt; {
    if (!fullUrl) {
      fullUrl &#x3D; this.config.issuer || &#x27;&#x27;
      if (!fullUrl.endsWith(&#x27;/&#x27;)) {
        fullUrl +&#x3D; &#x27;/&#x27;
      }
      fullUrl +&#x3D; &#x27;.well-known/openid-configuration&#x27;
    }

    if (!this.validateUrlForHttps(fullUrl)) {
      return throwError(OAuthService.mustUseHTTPS(&#x27;issuer&#x27;))
    }

    return of(fullUrl).pipe(
      mergeMap(url &#x3D;&gt; this.http.get&lt;OidcDiscoveryDoc&gt;(url)),
      mergeMap((doc) &#x3D;&gt; {
        if (!this.validateDiscoveryDocument(doc)) {
          this.eventsSubject.next(new OAuthErrorEvent(&#x27;discovery_document_validation_error&#x27;, null))
          return throwError(&#x27;discovery_document_validation_error&#x27;)
        }

        this.config.loginUrl &#x3D; doc.authorization_endpoint
        this.config.logoutUrl &#x3D; doc.end_session_endpoint || this.config.logoutUrl
        this.grantTypesSupported &#x3D; doc.grant_types_supported
        this.config.issuer &#x3D; doc.issuer
        this.config.tokenEndpoint &#x3D; doc.token_endpoint
        this.config.userinfoEndpoint &#x3D; doc.userinfo_endpoint || this.config.userinfoEndpoint
        this.jwksUri &#x3D; doc.jwks_uri
        this.config.sessionCheckIFrameUrl &#x3D; doc.check_session_iframe || this.config.sessionCheckIFrameUrl

        this.discoveryDocumentLoadedSubject.next(doc)
        this.config.revocationEndpoint &#x3D; doc.revocation_endpoint || this.config.revocationEndpoint

        if (this.config.sessionChecksEnabled) {
          this.restartSessionChecksIfStillLoggedIn()
        }

        return this.loadJwks&lt;object&gt;().pipe(
          map((jwks) &#x3D;&gt; {
            const result &#x3D; {
              discoveryDocument: doc,
              jwks: jwks,
            }

            const event &#x3D; new OAuthSuccessEvent(&#x27;discovery_document_loaded&#x27;, result)
            this.eventsSubject.next(event)
            return doc
          })
        )
      }),
      catchError((err) &#x3D;&gt; {
        this.logger.error(&#x27;error loading discovery document&#x27;, err)
        this.eventsSubject.next(new OAuthErrorEvent(&#x27;discovery_document_load_error&#x27;, err))
        return throwError(err)
      })
    )
  }

  protected loadJwks&lt;T&gt;(): Observable&lt;T&gt; {
    return of({}).pipe(
      takeWhile(() &#x3D;&gt; !!this.jwksUri),
      mergeMap(() &#x3D;&gt;
        this.http.get&lt;T&gt;(this.jwksUri).pipe(
          tap((doc) &#x3D;&gt; {
            this.config.jwks &#x3D; doc as any
            this.eventsSubject.next(new OAuthSuccessEvent(&#x27;discovery_document_loaded&#x27;))
          }),
          catchError((err) &#x3D;&gt; {
            this.logger.error(&#x27;error loading jwks&#x27;, err)
            this.eventsSubject.next(new OAuthErrorEvent(&#x27;jwks_load_error&#x27;, err))
            return throwError(err)
          })
        )
      )
    )
  }

  protected validateDiscoveryDocument(doc: OidcDiscoveryDoc): boolean {
    let errors: string[]

    if (!this.config.skipIssuerCheck &amp;&amp; doc.issuer !&#x3D;&#x3D; this.config.issuer) {
      this.logger.error(
        &#x60;invalid &quot;issuer&quot; in discovery document&#x60;,
        &#x60;expected: ${this.config.issuer}&#x60;,
        &#x60;current: ${doc.issuer}&#x60;
      )
      return false
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.authorization_endpoint)
    if (errors.length &gt; 0) {
      this.logger.error(&#x60;failed validating &quot;authorization_endpoint&quot; in discovery document&#x60;, errors)
      return false
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.end_session_endpoint)
    if (errors.length &gt; 0) {
      this.logger.error(&#x60;failed validating &quot;end_session_endpoint&quot; in discovery document&#x60;, errors)
      return false
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.token_endpoint)
    if (errors.length &gt; 0) {
      this.logger.error(&#x60;failed validating &quot;token_endpoint&quot; in discovery document&#x60;, errors)
      return false
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.revocation_endpoint)
    if (errors.length &gt; 0) {
      this.logger.error(&#x60;failed validating &quot;revocation_endpoint&quot; in discovery document&#x60;, errors)
      return false
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.userinfo_endpoint)
    if (errors.length &gt; 0) {
      this.logger.error(&#x60;failed validating &quot;userinfo_endpoint&quot; in discovery document&#x60;, errors)
      return false
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.jwks_uri)
    if (errors.length &gt; 0) {
      this.logger.error(&#x60;failed validating &quot;jwks_uri&quot; in discovery document&#x60;, errors)
      return false
    }

    if (this.config.sessionChecksEnabled &amp;&amp; !doc.check_session_iframe) {
      this.logger.warn(
        &#x60;&quot;sessionChecksEnabled&quot; is activated but discovery document does not contain a &quot;check_session_iframe&quot; field&#x60;
      )
    }

    return true
  }

  /**
   * Uses password flow to exchange userName and password for an
   * access_token. After receiving the access_token, this method
   * uses it to query the userinfo endpoint in order to get information
   * about the user in question.
   *
   * When using this, make sure that the property oidc is set to false.
   * Otherwise stricter validations take place that make this operation
   * fail.
   *
   * @param userName
   * @param password
   * @param headers Optional additional http-headers.
   */
  public fetchTokenUsingPasswordFlowAndLoadUserProfile(
    userName: string,
    password: string,
    headers: HttpHeaders &#x3D; new HttpHeaders()
  ): Observable&lt;{ token: TokenResponse; userinfo: UserInfo }&gt; {
    return this.fetchTokenUsingPasswordFlow(userName, password, headers).pipe(
      mergeMap(tokenResponse &#x3D;&gt;
        this.loadUserProfile().pipe(map(userInfo &#x3D;&gt; ({ token: tokenResponse, userinfo: userInfo })))
      )
    )
  }

  private saveUserinfo(info: object) {
    if (!!this._storage) this._storage.setItem(&#x27;id_token_claims_obj&#x27;, JSON.stringify(info))
  }

  /**
   * Loads the user profile by accessing the user info endpoint defined by OpenId Connect.
   *
   * When using this with OAuth2 password flow, make sure that the property oidc is set to false.
   * Otherwise stricter validations take place that make this operation fail.
   */
  public loadUserProfile(): Observable&lt;UserInfo&gt; {
    if (!this.hasValidAccessToken()) {
      return throwError(&#x27;Can not load User Profile without access_token&#x27;)
    }

    return of({}).pipe(
      tap(() &#x3D;&gt; this.debug(&#x60;starting to load userinfo&#x60;)),
      map(() &#x3D;&gt; this.assertUrlNotEmptyAndCorrectProtocol(this.config.userinfoEndpoint, &#x27;userinfoEndpoint&#x27;)),
      map(() &#x3D;&gt; new HttpHeaders().set(&#x27;Authorization&#x27;, &#x60;Bearer ${this.getAccessToken()}&#x60;)),
      mergeMap(headers &#x3D;&gt;
        this.http.get&lt;UserInfo&gt;(this.config.userinfoEndpoint, {
          headers: headers,
          observe: &#x27;response&#x27;,
        })
      ),
      tap(resp &#x3D;&gt; this.debug(&#x27;received userinfo&#x27;, resp)),
      map((resp) &#x3D;&gt; {
        let userinfo
        if (resp.headers.get(&#x27;content-type&#x27;).startsWith(&#x27;application/json&#x27;)) {
          const existingClaims &#x3D; this.getIdentityClaims() || {}
          if (!this.config.skipSubjectCheck) {
            if (this.config.oidc &amp;&amp; (!existingClaims[&#x27;sub&#x27;] || resp.body.sub !&#x3D;&#x3D; existingClaims[&#x27;sub&#x27;])) {
              return throwError(
                &#x27;if property oidc is true, the received user-id (sub) has to be the user-id &#x27; +
                &#x27;of the user that has logged in with oidc.\n&#x27; +
                &#x27;if you are not using oidc but just oauth2 password flow set oidc to false&#x27;
              )
            }
          }
          userinfo &#x3D; { ...existingClaims, ...resp.body }
        } else {
          this.debug(&#x27;userinfo is not JSON, treating it as JWE/JWS&#x27;)
          userinfo &#x3D; !!resp.body ? JSON.parse(resp.body as any) : undefined
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;user_profile_loaded&#x27;))
        }
        if (!!userinfo) this.saveUserinfo(userinfo)
        this.eventsSubject.next(new OAuthSuccessEvent(&#x27;user_profile_loaded&#x27;))
        return userinfo
      }),
      catchError((err) &#x3D;&gt; {
        this.logger.error(&#x27;error loading user info&#x27;, err)
        this.eventsSubject.next(new OAuthErrorEvent(&#x27;user_profile_load_error&#x27;, err))
        return throwError(err)
      }),
      finalize(() &#x3D;&gt; this.debug(&#x27;done loading userinfo&#x27;))
    )
  }

  /**
   * Uses password flow to exchange userName and password for an access_token.
   *
   * @param userName
   * @param password
   * @param headers Optional additional http-headers.
   */
  public fetchTokenUsingPasswordFlow(
    userName: string,
    password: string,
    headers: HttpHeaders &#x3D; new HttpHeaders()
  ): Observable&lt;TokenResponse&gt; {
    const parameters &#x3D; {
      username: userName,
      password: password,
    }
    return this.fetchTokenUsingGrant(&#x27;password&#x27;, parameters, headers)
  }

  /**
   * Uses a custom grant type to retrieve tokens.
   *
   * @param grantType Grant type.
   * @param parameters Parameters to pass.
   * @param headers Optional additional HTTP headers.
   */
  public fetchTokenUsingGrant(grantType: string, parameters: object, headers?: HttpHeaders): Observable&lt;TokenResponse&gt; {
    headers &#x3D; headers ? headers : new HttpHeaders()
    // TODO: refactor fetch token flow and refresh flow to one unified flow
    return of({})
      .pipe(
        tap(() &#x3D;&gt; this.debug(&#x60;starting fetching token&#x60;)),
        map(() &#x3D;&gt; this.assertUrlNotEmptyAndCorrectProtocol(this.config.tokenEndpoint, &#x27;tokenEndpoint&#x27;)),
        map(() &#x3D;&gt; ({
          params: new HttpParams({ encoder: new WebHttpUrlEncodingCodec() })
            .set(&#x27;grant_type&#x27;, grantType)
            .set(&#x27;scope&#x27;, this.config.scope),
          headers: new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;),
        })),
        map((opts) &#x3D;&gt; {
          if (this.config.useHttpBasicAuth) {
            opts.headers &#x3D; opts.headers.set(&#x27;Authorization&#x27;, &#x60;Basic ${this.createBasicAuthDummyValue()}&#x60;)
          } else {
            opts.params &#x3D; opts.params.set(&#x27;client_id&#x27;, this.config.clientId)
            if (!!this.config.dummyClientSecret)
              opts.params &#x3D; opts.params.set(&#x27;client_secret&#x27;, this.config.dummyClientSecret)
          }
          return opts
        }),
        map((opts) &#x3D;&gt; {
          if (this.config.customQueryParams) {
            for (const key of Object.getOwnPropertyNames(this.config.customQueryParams)) {
              opts.params &#x3D; opts.params.set(key, this.config.customQueryParams[key])
            }
          }
          return opts
        }),
        map((opts) &#x3D;&gt; {
          // set explicit parameters last, to allow overwriting
          for (const key of Object.keys(parameters)) {
            opts.params &#x3D; opts.params.set(key, parameters[key])
          }
          return opts
        }),
        mergeMap(opts &#x3D;&gt;
          this.http.post&lt;TokenResponse&gt;(this.config.tokenEndpoint, opts.params, { headers: opts.headers })
        )
      )
      .pipe(
        tap(tokenResponse &#x3D;&gt; this.debug(&#x27;received tokenResponse&#x27;, tokenResponse)),
        map((tokenResponse) &#x3D;&gt; {
          this.storeAccessTokenResponse(
            tokenResponse.access_token,
            tokenResponse.refresh_token,
            tokenResponse.expires_in || this.config.fallbackAccessTokenExpirationTimeInSec,
            tokenResponse.scope,
            this.extractRecognizedCustomParameters(tokenResponse)
          )
          if (this.config.oidc &amp;&amp; tokenResponse.id_token) {
            this.processIdToken(tokenResponse.id_token, tokenResponse.access_token)
              .pipe(
                map((result) &#x3D;&gt; {
                  this.storeIdToken(result)
                  return tokenResponse
                })
              )
              .subscribe(() &#x3D;&gt; {
                /* TODO */
              })
          }
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;))
          return tokenResponse
        }),
        catchError((err) &#x3D;&gt; {
          this.logger.error(&#x60;failed performing &quot;${grantType}&quot; flow&#x60;, err)
          this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_error&#x27;, err))
          return throwError(err)
        }),
        finalize(() &#x3D;&gt; this.debug(&#x60;done fetching token via &quot;${grantType}&quot; flow&#x60;))
      )
  }

  private createBasicAuthDummyValue(): string {
    return Buffer.from(&#x60;${this.config.clientId}:${this.config.dummyClientSecret}&#x60;, &#x27;utf8&#x27;).toString(&#x27;base64&#x27;)
  }

  /**
   * Refreshes the token using a refresh_token.
   * This does not work for implicit flow, b/c
   * there is no refresh_token in this flow.
   * A solution for this is provided by the
   * method silentRefresh.
   */
  public refreshToken(): Observable&lt;TokenResponse&gt; {
    return of({})
      .pipe(
        tap(() &#x3D;&gt; this.debug(&#x60;starting token refresh&#x60;)),
        map(() &#x3D;&gt; this.assertUrlNotEmptyAndCorrectProtocol(this.config.tokenEndpoint, &#x27;tokenEndpoint&#x27;)),
        map(() &#x3D;&gt; this.getRefreshToken()),
        takeWhile(token &#x3D;&gt; !!token), // skip entire flow when no token exists
        map(token &#x3D;&gt; ({
          params: new HttpParams({ encoder: new WebHttpUrlEncodingCodec() })
            .set(&#x27;grant_type&#x27;, &#x27;refresh_token&#x27;)
            .set(&#x27;scope&#x27;, this.config.scope)
            .set(&#x27;refresh_token&#x27;, token),
          headers: new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;),
        })),
        map((opts) &#x3D;&gt; {
          if (this.config.useHttpBasicAuth) {
            opts.headers &#x3D; opts.headers.set(&#x27;Authorization&#x27;, &#x60;Basic ${this.createBasicAuthDummyValue()}&#x60;)
          } else {
            opts.params &#x3D; opts.params.set(&#x27;client_id&#x27;, this.config.clientId)
            if (!!this.config.dummyClientSecret)
              opts.params &#x3D; opts.params.set(&#x27;client_secret&#x27;, this.config.dummyClientSecret)
          }
          return opts
        }),
        map((opts) &#x3D;&gt; {
          if (this.config.customQueryParams) {
            for (const key of Object.getOwnPropertyNames(this.config.customQueryParams)) {
              opts.params &#x3D; opts.params.set(key, this.config.customQueryParams[key])
            }
          }
          return opts
        }),
        mergeMap(opts &#x3D;&gt;
          this.http.post&lt;TokenResponse&gt;(this.config.tokenEndpoint, opts.params, { headers: opts.headers })
        )
      )
      .pipe(
        tap(tokenResponse &#x3D;&gt; this.debug(&#x27;received tokenResponse&#x27;, tokenResponse)),
        mergeMap(tokenResponse &#x3D;&gt;
          iif(
            () &#x3D;&gt; !tokenResponse.id_token,
            defer(() &#x3D;&gt; of(tokenResponse)),
            defer(() &#x3D;&gt;
              this.processIdToken(tokenResponse.id_token, tokenResponse.access_token, true).pipe(
                tap(parsedIdToken &#x3D;&gt; this.storeIdToken(parsedIdToken)),
                map(() &#x3D;&gt; tokenResponse)
              )
            )
          )
        ),
        map((tokenResponse) &#x3D;&gt; {
          this.storeAccessTokenResponse(
            tokenResponse.access_token,
            tokenResponse.refresh_token,
            tokenResponse.expires_in || this.config.fallbackAccessTokenExpirationTimeInSec,
            tokenResponse.scope,
            this.extractRecognizedCustomParameters(tokenResponse)
          )

          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;))
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_refreshed&#x27;))

          return tokenResponse
        }),
        catchError((err) &#x3D;&gt; {
          this.logger.error(&#x27;failed refreshing token&#x27;, err)
          this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_refresh_error&#x27;, err))
          return throwError(err)
        }),
        finalize(() &#x3D;&gt; this.debug(&#x27;done refreshing token&#x27;))
      )
  }

  protected removeSilentRefreshEventListener(): void {
    if (!this.silentRefreshPostMessageEventListener) return
    window.removeEventListener(&#x27;message&#x27;, this.silentRefreshPostMessageEventListener)
    this.silentRefreshPostMessageEventListener &#x3D; null
  }

  protected setupSilentRefreshEventListener(): void {
    this.removeSilentRefreshEventListener()

    this.silentRefreshPostMessageEventListener &#x3D; (e: MessageEvent) &#x3D;&gt; {
      const message &#x3D; this.processMessageEventMessage(e)

      this.tryLogin({
        customHashFragment: message,
        preventClearHashAfterLogin: true,
        customRedirectUri: this.config.silentRefreshRedirectUri || this.config.redirectUri,
      }).subscribe({
        error: err &#x3D;&gt; this.debug(&#x27;tryLogin during silent refresh failed&#x27;, err),
      })
    }

    window.addEventListener(&#x27;message&#x27;, this.silentRefreshPostMessageEventListener)
  }

  /**
   * Performs a silent refresh for implicit flow.
   * Use this method to get new tokens when/before
   * the existing tokens expire.
   */
  public silentRefresh(params: object &#x3D; {}, noPrompt &#x3D; true): Observable&lt;OAuthEvent&gt; {
    const claims: object &#x3D; this.getIdentityClaims() || {}

    if (this.config.useIdTokenHintForSilentRefresh &amp;&amp; this.hasValidIdToken()) {
      params[&#x27;id_token_hint&#x27;] &#x3D; this.getIdToken()
    }

    try {
      this.assertUrlNotEmptyAndCorrectProtocol(this.config.loginUrl, &#x27;loginUrl&#x27;)
    } catch (e) {
      return throwError(e)
    }

    if (typeof this.document &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) {
      return throwError(&#x27;silent refresh is not supported on this platform&#x27;)
    }

    const existingIframe &#x3D; this.document.getElementById(this.config.silentRefreshIFrameName)

    if (existingIframe) {
      this.document.body.removeChild(existingIframe)
    }

    this.silentRefreshSubject &#x3D; claims[&#x27;sub&#x27;]

    const iframe &#x3D; this.document.createElement(&#x27;iframe&#x27;)
    iframe.id &#x3D; this.config.silentRefreshIFrameName

    this.setupSilentRefreshEventListener()

    const redirectUri &#x3D; this.config.silentRefreshRedirectUri || this.config.redirectUri

    return of({}).pipe(
      mergeMap(() &#x3D;&gt; this.createLoginUrl(null, null, redirectUri, noPrompt, params)),
      tap(url &#x3D;&gt; iframe.setAttribute(&#x27;src&#x27;, url)),
      map(() &#x3D;&gt; {
        if (!this.config.silentRefreshShowIFrame) {
          iframe.style[&#x27;display&#x27;] &#x3D; &#x27;none&#x27;
        }
        this.document.body.appendChild(iframe)
      }),
      mergeMap(() &#x3D;&gt; {
        const errors &#x3D; this.events.pipe(
          filter(e &#x3D;&gt; e instanceof OAuthErrorEvent),
          first()
        )
        const success &#x3D; this.events.pipe(
          filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;),
          first()
        )
        const timeout &#x3D; of(new OAuthErrorEvent(&#x27;silent_refresh_timeout&#x27;, null)).pipe(
          delay(this.config.silentRefreshTimeout)
        )

        return race([errors, success, timeout])
      }),
      map((e) &#x3D;&gt; {
        if (e instanceof OAuthErrorEvent) {
          if (e.type &#x3D;&#x3D;&#x3D; &#x27;silent_refresh_timeout&#x27;) {
            this.eventsSubject.next(e)
          } else {
            e &#x3D; new OAuthErrorEvent(&#x27;silent_refresh_error&#x27;, e)
            this.eventsSubject.next(e)
          }
          throw e
        } else if (e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;) {
          e &#x3D; new OAuthSuccessEvent(&#x27;silently_refreshed&#x27;)
          this.eventsSubject.next(e)
        }
        return e
      })
    )
  }

  /**
   * This method {@link OAuthService#initLoginFlowInPopup} handles both code
   * and implicit flows.
   */
  public initLoginFlowInPopup(options?: { height?: number; width?: number; windowRef?: Window }): Observable&lt;boolean&gt; {
    options &#x3D; options || {}
    return of({}).pipe(
      mergeMap(() &#x3D;&gt;
        this.createLoginUrl(null, null, this.config.silentRefreshRedirectUri, false, { display: &#x27;popup&#x27; })
      ),
      map((loginUrl) &#x3D;&gt; {
        let windowRef: Window
        // If we got no window reference we open a window
        // else we are using the window already opened
        if (!options.windowRef) {
          windowRef &#x3D; window.open(loginUrl, &#x27;ngx-oauth2-oidc-login&#x27;, this.calculatePopupFeatures(options))
        } else if (options.windowRef &amp;&amp; !options.windowRef.closed) {
          windowRef &#x3D; options.windowRef
          windowRef.location.href &#x3D; loginUrl
        }
        return windowRef
      }),
      tap((windowRef) &#x3D;&gt; {
        let checkForPopupClosedTimer: number
        if (!windowRef) {
          throw new OAuthErrorEvent(&#x27;popup_blocked&#x27;, {})
        } else {
          const checkForPopupClosedInterval &#x3D; 500
          const checkForPopupClosed &#x3D; () &#x3D;&gt; {
            if (!windowRef || windowRef.closed) {
              cleanupWindowRef()
              throw new OAuthErrorEvent(&#x27;popup_closed&#x27;, {})
            }
          }
          checkForPopupClosedTimer &#x3D; window.setInterval(checkForPopupClosed, checkForPopupClosedInterval)
        }

        const cleanupWindowRef &#x3D; () &#x3D;&gt; {
          window.clearInterval(checkForPopupClosedTimer)
          window.removeEventListener(&#x27;storage&#x27;, authHashstorageListener)
          window.removeEventListener(&#x27;message&#x27;, messageListener)
          if (windowRef !&#x3D;&#x3D; null) {
            windowRef.close()
          }
          windowRef &#x3D; null
        }

        const trySilentRefreshLogin &#x3D; (hash: string): Observable&lt;any&gt; &#x3D;&gt;
          this.tryLogin({
            customHashFragment: hash,
            preventClearHashAfterLogin: true,
            customRedirectUri: this.config.silentRefreshRedirectUri,
          }).pipe(finalize(() &#x3D;&gt; cleanupWindowRef()))

        const messageListener &#x3D; (e: MessageEvent) &#x3D;&gt; {
          const message &#x3D; this.processMessageEventMessage(e)

          if (message &amp;&amp; message !&#x3D;&#x3D; null) {
            window.removeEventListener(&#x27;storage&#x27;, authHashstorageListener)
            trySilentRefreshLogin(message).subscribe(() &#x3D;&gt; {
              /* TODO */
            })
          } else {
            console.log(&#x27;false event firing&#x27;)
          }
        }

        const authHashstorageListener &#x3D; (event: StorageEvent) &#x3D;&gt; {
          if (event.key &#x3D;&#x3D;&#x3D; &#x27;auth_hash&#x27;) {
            window.removeEventListener(&#x27;message&#x27;, messageListener)
            trySilentRefreshLogin(event.newValue).subscribe(() &#x3D;&gt; {
              /* TODO */
            })
          }
        }

        window.addEventListener(&#x27;message&#x27;, messageListener)
        window.addEventListener(&#x27;storage&#x27;, authHashstorageListener)
      }),
      map(() &#x3D;&gt; true),
      catchError((err) &#x3D;&gt; {
        this.logger.error(&#x27;failed initializing login flow popup&#x27;, err)
        this.eventsSubject.next(err)
        return throwError(err)
      })
    )
  }

  protected calculatePopupFeatures(options: { height?: number; width?: number }): string {
    // Specify an static height and width and calculate centered position

    const height &#x3D; options.height || 470
    const width &#x3D; options.width || 500
    const left &#x3D; window.screenLeft + (window.outerWidth - width) / 2
    const top &#x3D; window.screenTop + (window.outerHeight - height) / 2
    return &#x60;location&#x3D;no,toolbar&#x3D;no,width&#x3D;${width},height&#x3D;${height},top&#x3D;${top},left&#x3D;${left}&#x60;
  }

  protected processMessageEventMessage(e: MessageEvent): string {
    let expectedPrefix &#x3D; &#x27;#&#x27;

    if (this.config.silentRefreshMessagePrefix) {
      expectedPrefix +&#x3D; this.config.silentRefreshMessagePrefix
    }

    if (!e || !e.data || typeof e.data !&#x3D;&#x3D; &#x27;string&#x27;) {
      return
    }

    const prefixedMessage: string &#x3D; e.data

    if (!prefixedMessage.startsWith(expectedPrefix)) {
      return
    }

    return &#x27;#&#x27; + prefixedMessage.substr(expectedPrefix.length)
  }

  protected canPerformSessionCheck(): boolean {
    if (!this.config.sessionChecksEnabled) {
      return false
    }
    if (!this.config.sessionCheckIFrameUrl) {
      console.warn(&#x27;sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl&#x27;)
      return false
    }
    const sessionState &#x3D; this.getSessionState()
    if (!sessionState) {
      console.warn(&#x27;sessionChecksEnabled is activated but there is no session_state&#x27;)
      return false
    }
    if (typeof this.document &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) {
      return false
    }

    return true
  }

  protected setupSessionCheckEventListener(): void {
    this.removeSessionCheckEventListener()

    this.sessionCheckEventListener &#x3D; (e: MessageEvent) &#x3D;&gt; {
      const origin &#x3D; e.origin.toLowerCase()
      const issuer &#x3D; this.config.issuer.toLowerCase()

      this.debug(&#x27;sessionCheckEventListener&#x27;)

      if (!issuer.startsWith(origin)) {
        this.debug(&#x27;sessionCheckEventListener&#x27;, &#x27;wrong origin&#x27;, origin, &#x27;expected&#x27;, issuer, &#x27;event&#x27;, e)

        return
      }

      // only run in Angular zone if it is &#x27;changed&#x27; or &#x27;error&#x27;
      switch (e.data) {
        case &#x27;unchanged&#x27;:
          this.ngZone.run(() &#x3D;&gt; {
            this.handleSessionUnchanged()
          })
          break
        case &#x27;changed&#x27;:
          this.ngZone.run(() &#x3D;&gt; {
            this.handleSessionChange()
          })
          break
        case &#x27;error&#x27;:
          this.ngZone.run(() &#x3D;&gt; {
            this.handleSessionError()
          })
          break
      }

      this.debug(&#x27;got info from session check inframe&#x27;, e)
    }

    // prevent Angular from refreshing the view on every message (runs in intervals)
    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      window.addEventListener(&#x27;message&#x27;, this.sessionCheckEventListener)
    })
  }

  protected handleSessionUnchanged(): void {
    this.debug(&#x27;session check&#x27;, &#x27;session unchanged&#x27;)
    this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_unchanged&#x27;))
  }

  protected handleSessionChange(): void {
    this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_changed&#x27;))
    this.stopSessionCheckTimer()

    if (!this.config.useSilentRefresh &amp;&amp; this.config.responseType &#x3D;&#x3D;&#x3D; &#x27;code&#x27;) {
      this.refreshToken().subscribe({
        next: () &#x3D;&gt; this.debug(&#x27;token refresh after session change worked&#x27;),
        error: () &#x3D;&gt; {
          this.debug(&#x27;token refresh did not work after session changed&#x27;)
          this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_terminated&#x27;))
          this.logOut(true)
        },
      })
    } else if (this.config.silentRefreshRedirectUri) {
      this.silentRefresh().subscribe({
        error: err &#x3D;&gt; this.debug(&#x27;silent refresh failed after session changed&#x27;, err),
      })
      this.waitForSilentRefreshAfterSessionChange()
    } else {
      this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_terminated&#x27;))
      this.logOut(true)
    }
  }

  protected waitForSilentRefreshAfterSessionChange(): void {
    this.events
      .pipe(
        filter(
          (e: OAuthEvent) &#x3D;&gt;
            e.type &#x3D;&#x3D;&#x3D; &#x27;silently_refreshed&#x27; || e.type &#x3D;&#x3D;&#x3D; &#x27;silent_refresh_timeout&#x27; || e.type &#x3D;&#x3D;&#x3D; &#x27;silent_refresh_error&#x27;
        ),
        first()
      )
      .subscribe((e) &#x3D;&gt; {
        if (e.type !&#x3D;&#x3D; &#x27;silently_refreshed&#x27;) {
          this.debug(&#x27;silent refresh did not work after session changed&#x27;)
          this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_terminated&#x27;))
          this.logOut(true)
        }
      })
  }

  protected handleSessionError(): void {
    this.stopSessionCheckTimer()
    this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_error&#x27;))
  }

  protected removeSessionCheckEventListener(): void {
    if (this.sessionCheckEventListener) {
      window.removeEventListener(&#x27;message&#x27;, this.sessionCheckEventListener)
      this.sessionCheckEventListener &#x3D; null
    }
  }

  protected initSessionCheck(): void {
    if (!this.canPerformSessionCheck()) {
      return
    }

    const existingIframe &#x3D; this.document.getElementById(this.config.sessionCheckIFrameName)
    if (existingIframe) {
      this.document.body.removeChild(existingIframe)
    }

    const iframe &#x3D; this.document.createElement(&#x27;iframe&#x27;)
    iframe.id &#x3D; this.config.sessionCheckIFrameName

    this.setupSessionCheckEventListener()

    const url &#x3D; this.config.sessionCheckIFrameUrl
    iframe.setAttribute(&#x27;src&#x27;, url)
    iframe.style.display &#x3D; &#x27;none&#x27;
    this.document.body.appendChild(iframe)

    this.startSessionCheckTimer()
  }

  protected startSessionCheckTimer(): void {
    this.stopSessionCheckTimer()
    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      this.sessionCheckTimer &#x3D; setInterval(this.checkSession.bind(this), this.config.sessionCheckIntervall)
    })
  }

  protected stopSessionCheckTimer(): void {
    if (this.sessionCheckTimer) {
      clearInterval(this.sessionCheckTimer)
      this.sessionCheckTimer &#x3D; null
    }
  }

  public checkSession(): void {
    const iframe: any &#x3D; this.document.getElementById(this.config.sessionCheckIFrameName)

    if (!iframe) {
      this.logger.warn(&#x27;checkSession did not find iframe&#x27;, this.config.sessionCheckIFrameName)
    }

    const sessionState &#x3D; this.getSessionState()

    if (!sessionState) {
      this.stopSessionCheckTimer()
    }

    const message &#x3D; this.config.clientId + &#x27; &#x27; + sessionState
    iframe.contentWindow.postMessage(message, this.config.issuer)
  }

  protected createLoginUrl(
    state &#x3D; &#x27;&#x27;,
    loginHint &#x3D; &#x27;&#x27;,
    customRedirectUri &#x3D; &#x27;&#x27;,
    noPrompt &#x3D; false,
    params: object &#x3D; {}
  ): Observable&lt;string&gt; {
    let redirectUri: string

    if (customRedirectUri) {
      redirectUri &#x3D; customRedirectUri
    } else {
      redirectUri &#x3D; this.config.redirectUri
    }

    const nonce &#x3D; this.createAndSaveNonce()

    if (state) {
      state &#x3D; nonce + this.config.nonceStateSeparator + encodeURIComponent(state)
    } else {
      state &#x3D; nonce
    }

    if (!this.config.requestAccessToken &amp;&amp; !this.config.oidc) {
      return throwError(&#x27;at least one of requestAccessToken or oidc (or both) must be set to &quot;true&quot;&#x27;)
    }

    if (this.config.responseType) {
      this.config.responseType &#x3D; this.config.responseType
    } else {
      if (this.config.oidc &amp;&amp; this.config.requestAccessToken) {
        this.config.responseType &#x3D; &#x27;id_token token&#x27;
      } else if (this.config.oidc &amp;&amp; !this.config.requestAccessToken) {
        this.config.responseType &#x3D; &#x27;id_token&#x27;
      } else {
        this.config.responseType &#x3D; &#x27;token&#x27;
      }
    }

    const seperationChar &#x3D; this.config.loginUrl.indexOf(&#x27;?&#x27;) &gt; -1 ? &#x27;&amp;&#x27; : &#x27;?&#x27;

    let scope &#x3D; this.config.scope

    if (this.config.oidc &amp;&amp; !scope.match(/(^|\s)openid($|\s)/)) {
      scope &#x3D; &#x27;openid &#x27; + scope
    }

    let url &#x3D;
      this.config.loginUrl +
      seperationChar +
      &#x27;response_type&#x3D;&#x27; +
      encodeURIComponent(this.config.responseType) +
      &#x27;&amp;client_id&#x3D;&#x27; +
      encodeURIComponent(this.config.clientId) +
      &#x27;&amp;state&#x3D;&#x27; +
      encodeURIComponent(state) +
      &#x27;&amp;redirect_uri&#x3D;&#x27; +
      encodeURIComponent(redirectUri) +
      &#x27;&amp;scope&#x3D;&#x27; +
      encodeURIComponent(scope)

    if (this.config.responseType.includes(&#x27;code&#x27;) &amp;&amp; !this.config.disablePKCE) {
      const [challenge, verifier] &#x3D; this.createChallangeVerifierPairForPKCE()

      if (this.saveNoncesInLocalStorage &amp;&amp; typeof window[&#x27;localStorage&#x27;] !&#x3D;&#x3D; &#x27;undefined&#x27;) {
        localStorage.setItem(&#x27;PKCE_verifier&#x27;, verifier)
      } else {
        this._storage.setItem(&#x27;PKCE_verifier&#x27;, verifier)
      }

      url +&#x3D; &#x27;&amp;code_challenge&#x3D;&#x27; + challenge
      url +&#x3D; &#x27;&amp;code_challenge_method&#x3D;S256&#x27;
    }

    if (loginHint) {
      url +&#x3D; &#x27;&amp;login_hint&#x3D;&#x27; + encodeURIComponent(loginHint)
    }

    if (this.config.resource) {
      url +&#x3D; &#x27;&amp;resource&#x3D;&#x27; + encodeURIComponent(this.config.resource)
    }

    if (this.config.oidc) {
      url +&#x3D; &#x27;&amp;nonce&#x3D;&#x27; + encodeURIComponent(nonce)
    }

    if (noPrompt) {
      url +&#x3D; &#x27;&amp;prompt&#x3D;none&#x27;
    }

    for (const key of Object.keys(params)) {
      url +&#x3D; &#x27;&amp;&#x27; + encodeURIComponent(key) + &#x27;&#x3D;&#x27; + encodeURIComponent(params[key])
    }

    if (this.config.customQueryParams) {
      for (const key of Object.getOwnPropertyNames(this.config.customQueryParams)) {
        url +&#x3D; &#x27;&amp;&#x27; + key + &#x27;&#x3D;&#x27; + encodeURIComponent(this.config.customQueryParams[key])
      }
    }

    return of(url)
  }

  private initImplicitFlowInternal(additionalState &#x3D; &#x27;&#x27;, params: string | object &#x3D; &#x27;&#x27;): void {
    if (this.inImplicitFlow) {
      return
    }
    this.assertUrlNotEmptyAndCorrectProtocol(this.config.loginUrl, &#x27;loginUrl&#x27;)

    this.inImplicitFlow &#x3D; true

    let addParams: object &#x3D; {}
    let loginHint: string &#x3D; null

    if (typeof params &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
      loginHint &#x3D; params
    } else if (typeof params &#x3D;&#x3D;&#x3D; &#x27;object&#x27;) {
      addParams &#x3D; params
    }

    this.createLoginUrl(additionalState, loginHint, null, false, addParams)
      .pipe(
        tap(url &#x3D;&gt; this.config.openUri(url)),
        finalize(() &#x3D;&gt; (this.inImplicitFlow &#x3D; false))
      )
      .subscribe({
        error: (err) &#x3D;&gt; {
          console.error(&#x27;Error in initImplicitFlow&#x27;, err)
        },
      })
  }

  /**
   * Starts the implicit flow and redirects to user to
   * the auth servers&#x27; login url.
   *
   * @param additionalState Optional state that is passed around.
   *  You&#x27;ll find this state in the property &#x60;state&#x60; after &#x60;tryLogin&#x60; logged in the user.
   * @param params Hash with additional parameter. If it is a string, it is used for the
   *               parameter loginHint (for the sake of compatibility with former versions)
   */
  public initImplicitFlow(additionalState &#x3D; &#x27;&#x27;, params: string | object &#x3D; &#x27;&#x27;): void {
    if (this.config.loginUrl !&#x3D;&#x3D; &#x27;&#x27;) {
      this.initImplicitFlowInternal(additionalState, params)
    } else {
      this.events
        .pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;discovery_document_loaded&#x27;))
        .subscribe(_ &#x3D;&gt; this.initImplicitFlowInternal(additionalState, params))
    }
  }

  protected storeAccessTokenResponse(
    accessToken: string,
    refreshToken: string,
    expiresIn: number,
    grantedScopes: string,
    customParameters?: Map&lt;string, string&gt;
  ): void {
    this._storage.setItem(&#x27;access_token&#x27;, accessToken)
    if (grantedScopes &amp;&amp; !Array.isArray(grantedScopes)) {
      this._storage.setItem(&#x27;granted_scopes&#x27;, JSON.stringify(grantedScopes.split(&#x27; &#x27;)))
    } else if (grantedScopes &amp;&amp; Array.isArray(grantedScopes)) {
      this._storage.setItem(&#x27;granted_scopes&#x27;, JSON.stringify(grantedScopes))
    }

    this._storage.setItem(&#x27;access_token_stored_at&#x27;, &#x27;&#x27; + this.dateTimeService.now())
    if (expiresIn) {
      const expiresInMilliSeconds &#x3D; expiresIn * 1000
      const now &#x3D; this.dateTimeService.new()
      const expiresAt &#x3D; now.getTime() + expiresInMilliSeconds
      this._storage.setItem(&#x27;expires_at&#x27;, &#x27;&#x27; + expiresAt)
    }

    if (refreshToken) {
      this._storage.setItem(&#x27;refresh_token&#x27;, refreshToken)
    }
    if (customParameters) {
      customParameters.forEach((value: string, key: string) &#x3D;&gt; {
        this._storage.setItem(key, value)
      })
    }
  }

  /**
   * Delegates to tryLoginImplicitFlow for the sake of competability.
   *
   * @param options Optional options.
   */
  public tryLogin(options?: LoginOptions): Observable&lt;boolean&gt; {
    if (this.config.responseType &#x3D;&#x3D;&#x3D; &#x27;code&#x27;) {
      return this.tryLoginCodeFlow(options)
    } else {
      return this.tryLoginImplicitFlow(options)
    }
  }

  private parseQueryString(queryString: string): object {
    if (!queryString || queryString.length &#x3D;&#x3D;&#x3D; 0) {
      return {}
    }

    if (queryString.charAt(0) &#x3D;&#x3D;&#x3D; &#x27;?&#x27;) {
      queryString &#x3D; queryString.substr(1)
    }

    return this.urlHelper.parseQueryString(queryString)
  }

  public tryLoginCodeFlow(options?: LoginOptions): Observable&lt;boolean&gt; {
    options &#x3D; options || {}

    const querySource &#x3D; options.customHashFragment ? options.customHashFragment.substring(1) : window.location.search

    const parts &#x3D; this.getCodePartsFromUrl(querySource)

    const code &#x3D; parts[&#x27;code&#x27;]
    const state &#x3D; parts[&#x27;state&#x27;]

    const sessionState &#x3D; parts[&#x27;session_state&#x27;]

    if (!options.preventClearHashAfterLogin) {
      const href &#x3D;
        location.origin +
        location.pathname +
        location.search
          .replace(/code&#x3D;[^&amp;\$]*/, &#x27;&#x27;)
          .replace(/scope&#x3D;[^&amp;\$]*/, &#x27;&#x27;)
          .replace(/state&#x3D;[^&amp;\$]*/, &#x27;&#x27;)
          .replace(/session_state&#x3D;[^&amp;\$]*/, &#x27;&#x27;)
          .replace(/^\?&amp;/, &#x27;?&#x27;)
          .replace(/&amp;$/, &#x27;&#x27;)
          .replace(/^\?$/, &#x27;&#x27;)
          .replace(/&amp;+/g, &#x27;&amp;&#x27;)
          .replace(/\?&amp;/, &#x27;?&#x27;)
          .replace(/\?$/, &#x27;&#x27;) +
        location.hash

      history.replaceState(null, window.name, href)
    }

    const [nonceInState, userState] &#x3D; this.parseState(state)
    this._state &#x3D; userState

    if (parts[&#x27;error&#x27;]) {
      return this.handleLoginError(options, parts, &#x27;code_error&#x27;)
    }

    if (!options.disableNonceCheck) {
      if (!nonceInState) {
        this.saveRequestedRoute()
        return of(true)
      }

      if (!options.disableOAuth2StateCheck) {
        const success &#x3D; this.validateNonce(nonceInState)
        if (!success) {
          const event &#x3D; new OAuthErrorEvent(&#x27;invalid_nonce_in_state&#x27;, null)
          this.eventsSubject.next(event)
          return throwError(event)
        }
      }

      this.storeSessionState(sessionState)

      if (code) {
        return this.getTokenFromCode(code, options).pipe(
          map(token &#x3D;&gt; !!token),
          finalize(() &#x3D;&gt; this.restoreRequestedRoute())
        )
      }
      return of(true)
    }

    return of(false)
  }

  private saveRequestedRoute() {
    if (this.config.preserveRequestedRoute) {
      this._storage.setItem(&#x27;requested_route&#x27;, window.location.pathname + window.location.search)
    }
  }

  private restoreRequestedRoute() {
    const requestedRoute &#x3D; this._storage.getItem(&#x27;requested_route&#x27;)
    if (requestedRoute) {
      history.replaceState(null, &#x27;&#x27;, window.location.origin + requestedRoute)
    }
  }

  /**
   * Retrieve the returned auth code from the redirect uri that has been called.
   * If required also check hash, as we could use hash location strategy.
   */
  private getCodePartsFromUrl(queryString: string): object {
    if (!queryString || queryString.length &#x3D;&#x3D;&#x3D; 0) {
      return this.urlHelper.getHashFragmentParams()
    }

    // normalize query string
    if (queryString.charAt(0) &#x3D;&#x3D;&#x3D; &#x27;?&#x27;) {
      queryString &#x3D; queryString.substr(1)
    }

    return this.urlHelper.parseQueryString(queryString)
  }

  /**
   * Get token using an intermediate code. Works for the Authorization Code flow.
   */
  private getTokenFromCode(code: string, options: LoginOptions): Observable&lt;TokenResponse&gt; {
    let params &#x3D; new HttpParams({ encoder: new WebHttpUrlEncodingCodec() })
      .set(&#x27;grant_type&#x27;, &#x27;authorization_code&#x27;)
      .set(&#x27;code&#x27;, code)
      .set(&#x27;redirect_uri&#x27;, options.customRedirectUri || this.config.redirectUri)

    if (!this.config.disablePKCE) {
      let pkceVerifier: string

      if (this.saveNoncesInLocalStorage &amp;&amp; typeof window[&#x27;localStorage&#x27;] !&#x3D;&#x3D; &#x27;undefined&#x27;) {
        pkceVerifier &#x3D; localStorage.getItem(&#x27;PKCE_verifier&#x27;)
      } else {
        pkceVerifier &#x3D; this._storage.getItem(&#x27;PKCE_verifier&#x27;)
      }

      if (!pkceVerifier) {
        console.warn(&#x27;No PKCE verifier found in oauth storage!&#x27;)
      } else {
        params &#x3D; params.set(&#x27;code_verifier&#x27;, pkceVerifier)
      }
    }

    return this.fetchAndProcessToken(params, options)
  }

  private fetchAndProcessToken(params: HttpParams, options: LoginOptions): Observable&lt;TokenResponse&gt; {
    options &#x3D; options || {}

    return of({}).pipe(
      tap(() &#x3D;&gt; this.debug(&#x60;starting to fetch token&#x60;)),
      map(() &#x3D;&gt; this.assertUrlNotEmptyAndCorrectProtocol(this.config.tokenEndpoint, &#x27;tokenEndpoint&#x27;)),
      map(() &#x3D;&gt; ({
        params: params,
        headers: new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;),
      })),
      map((opts) &#x3D;&gt; {
        if (this.config.useHttpBasicAuth) {
          opts.headers &#x3D; opts.headers.set(&#x27;Authorization&#x27;, &#x60;Basic ${this.createBasicAuthDummyValue()}&#x60;)
        } else {
          opts.params &#x3D; opts.params.set(&#x27;client_id&#x27;, this.config.clientId)
          if (!!this.config.dummyClientSecret)
            opts.params &#x3D; opts.params.set(&#x27;client_secret&#x27;, this.config.dummyClientSecret)
        }
        return opts
      }),
      map((opts) &#x3D;&gt; {
        if (this.config.customQueryParams) {
          for (const key of Object.getOwnPropertyNames(this.config.customQueryParams)) {
            opts.params &#x3D; opts.params.set(key, this.config.customQueryParams[key])
          }
        }
        return opts
      }),
      mergeMap(opts &#x3D;&gt;
        this.http.post&lt;TokenResponse&gt;(this.config.tokenEndpoint, opts.params, {
          headers: opts.headers,
        })
      ),
      tap(tokenResponse &#x3D;&gt; this.debug(&#x27;refresh tokenResponse&#x27;, tokenResponse)),
      map((tokenResponse) &#x3D;&gt; {
        this.storeAccessTokenResponse(
          tokenResponse.access_token,
          tokenResponse.refresh_token,
          tokenResponse.expires_in || this.config.fallbackAccessTokenExpirationTimeInSec,
          tokenResponse.scope,
          this.extractRecognizedCustomParameters(tokenResponse)
        )

        if (this.config.oidc &amp;&amp; tokenResponse.id_token) {
          this.processIdToken(tokenResponse.id_token, tokenResponse.access_token, options.disableNonceCheck).pipe(
            map((result) &#x3D;&gt; {
              this.storeIdToken(result)

              this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;))
              this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_refreshed&#x27;))

              return tokenResponse
            }),
            catchError((err) &#x3D;&gt; {
              this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_validation_error&#x27;, err))
              console.error(&#x27;Error validating tokens&#x27;)
              console.error(err)

              return throwError(err)
            })
          )
        } else {
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;))
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_refreshed&#x27;))

          return tokenResponse
        }
      }),
      catchError((err) &#x3D;&gt; {
        console.error(&#x27;Error getting token&#x27;, err)
        this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_refresh_error&#x27;, err))
        return throwError(err)
      })
    )
  }

  /**
   * Checks whether there are tokens in the hash fragment
   * as a result of the implicit flow. These tokens are
   * parsed, validated and used to sign the user in to the
   * current client.
   *
   * @param options Optional options.
   */
  public tryLoginImplicitFlow(options?: LoginOptions): Observable&lt;boolean&gt; {
    options &#x3D; options || {}

    let parts: object

    if (options.customHashFragment) {
      parts &#x3D; this.urlHelper.getHashFragmentParams(options.customHashFragment)
    } else {
      parts &#x3D; this.urlHelper.getHashFragmentParams()
    }

    this.debug(&#x27;parsed url&#x27;, parts)

    const state &#x3D; parts[&#x27;state&#x27;]

    const [nonceInState, userState] &#x3D; this.parseState(state)
    this._state &#x3D; userState

    if (parts[&#x27;error&#x27;]) {
      this.debug(&#x27;error trying to login&#x27;)
      return this.handleLoginError(options, parts, &#x27;token_error&#x27;)
    }

    const accessToken &#x3D; parts[&#x27;access_token&#x27;]
    const idToken &#x3D; parts[&#x27;id_token&#x27;]
    const sessionState &#x3D; parts[&#x27;session_state&#x27;]
    const grantedScopes &#x3D; parts[&#x27;scope&#x27;]

    if (!this.config.requestAccessToken &amp;&amp; !this.config.oidc) {
      return throwError(&#x27;Either requestAccessToken or oidc (or both) must be true.&#x27;)
    }

    if (this.config.requestAccessToken &amp;&amp; !accessToken) {
      return of(false)
    }
    if (this.config.requestAccessToken &amp;&amp; !options.disableOAuth2StateCheck &amp;&amp; !state) {
      return of(false)
    }
    if (this.config.oidc &amp;&amp; !idToken) {
      return of(false)
    }

    if (this.config.sessionChecksEnabled &amp;&amp; !sessionState) {
      this.logger.warn(
        &#x27;session checks (Session Status Change Notification) &#x27; +
        &#x27;were activated in the configuration but the id_token &#x27; +
        &#x27;does not contain a session_state claim&#x27;
      )
    }

    if (this.config.requestAccessToken &amp;&amp; !options.disableNonceCheck) {
      const success &#x3D; this.validateNonce(nonceInState)

      if (!success) {
        const event &#x3D; new OAuthErrorEvent(&#x27;invalid_nonce_in_state&#x27;, null)
        this.eventsSubject.next(event)
        return throwError(event)
      }
    }

    if (this.config.requestAccessToken) {
      this.storeAccessTokenResponse(
        accessToken,
        null,
        parts[&#x27;expires_in&#x27;] || this.config.fallbackAccessTokenExpirationTimeInSec,
        grantedScopes
      )
    }

    if (!this.config.oidc) {
      this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;))
      if (this.config.clearHashAfterLogin &amp;&amp; !options.preventClearHashAfterLogin) {
        this.clearLocationHash()
      }

      return of(true)
    }

    return this.processIdToken(idToken, accessToken, options.disableNonceCheck).pipe(
      map((result) &#x3D;&gt; {
        this.storeIdToken(result)
        this.storeSessionState(sessionState)
        if (this.config.clearHashAfterLogin &amp;&amp; !options.preventClearHashAfterLogin) {
          this.clearLocationHash()
        }
        this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;))
        this.inImplicitFlow &#x3D; false
        return true
      }),
      catchError((err) &#x3D;&gt; {
        this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_validation_error&#x27;, err))
        this.logger.error(&#x27;Error validating tokens&#x27;)
        this.logger.error(err)
        return throwError(err)
      })
    )
  }

  private parseState(state: string): [string, string] {
    let nonce &#x3D; state
    let userState &#x3D; &#x27;&#x27;

    if (state) {
      const idx &#x3D; state.indexOf(this.config.nonceStateSeparator)
      if (idx &gt; -1) {
        nonce &#x3D; state.substr(0, idx)
        userState &#x3D; state.substr(idx + this.config.nonceStateSeparator.length)
      }
    }
    return [nonce, userState]
  }

  protected validateNonce(nonceInState: string): boolean {
    const savedNonce &#x3D; this.getSavedNonce()
    if (savedNonce !&#x3D;&#x3D; nonceInState) {
      const err &#x3D; &#x27;Validating access_token failed, wrong state/nonce.&#x27;
      console.error(err, savedNonce, nonceInState)
      return false
    }
    return true
  }

  protected storeIdToken(idToken: ParsedIdToken): void {
    this._storage.setItem(&#x27;id_token&#x27;, idToken.idToken)
    this._storage.setItem(&#x27;id_token_claims_obj&#x27;, idToken.idTokenClaimsJson)
    this._storage.setItem(&#x27;id_token_expires_at&#x27;, &#x27;&#x27; + idToken.idTokenExpiresAt)
    this._storage.setItem(&#x27;id_token_stored_at&#x27;, &#x27;&#x27; + this.dateTimeService.now())
  }

  protected storeSessionState(sessionState: string): void {
    this._storage.setItem(&#x27;session_state&#x27;, sessionState)
  }

  protected getSessionState(): string {
    return this._storage.getItem(&#x27;session_state&#x27;)
  }

  protected handleLoginError(options: LoginOptions, parts: object, type: EventType): Observable&lt;any&gt; {
    this.debug(&#x27;error trying to login&#x27;)
    const err &#x3D; new OAuthErrorEvent(type, {}, parts)
    this.eventsSubject.next(err)

    if (this.config.clearHashAfterLogin &amp;&amp; !options.preventClearHashAfterLogin) {
      this.clearLocationHash()
    }
    return throwError(err)
  }

  private getClockSkewInMsec(defaultSkewMsc &#x3D; 600_000) {
    if (!this.config.clockSkewInSec) {
      return defaultSkewMsc
    }
    return this.config.clockSkewInSec * 1000
  }

  /**
   * @ignore
   */
  public processIdToken(idToken: string, accessToken: string, skipNonceCheck &#x3D; false): Observable&lt;ParsedIdToken&gt; {
    const tokenParts &#x3D; idToken.split(&#x27;.&#x27;)
    const headerBase64 &#x3D; this.padBase64(tokenParts[0])
    const headerJson &#x3D; b64DecodeUnicode(headerBase64)
    const header &#x3D; JSON.parse(headerJson)
    const claimsBase64 &#x3D; this.padBase64(tokenParts[1])
    const claimsJson &#x3D; b64DecodeUnicode(claimsBase64)
    const claims &#x3D; JSON.parse(claimsJson)

    if (Array.isArray(claims.aud)) {
      if (claims.aud.every(v &#x3D;&gt; v !&#x3D;&#x3D; this.config.clientId)) {
        const err &#x3D; &#x27;Wrong audience: &#x27; + claims.aud.join(&#x27;,&#x27;)
        this.logger.warn(err)
        return throwError(err)
      }
    } else {
      if (claims.aud !&#x3D;&#x3D; this.config.clientId) {
        const err &#x3D; &#x27;Wrong audience: &#x27; + claims.aud
        this.logger.warn(err)
        return throwError(err)
      }
    }

    if (!claims.sub) {
      const err &#x3D; &#x27;No sub claim in id_token&#x27;
      this.logger.warn(err)
      return throwError(err)
    }

    /* For now, we only check whether the sub against
     * silentRefreshSubject when sessionChecksEnabled is on
     * We will reconsider in a later version to do this
     * in every other case too.
     */
    if (this.config.sessionChecksEnabled &amp;&amp; this.silentRefreshSubject &amp;&amp; this.silentRefreshSubject !&#x3D;&#x3D; claims[&#x27;sub&#x27;]) {
      const err &#x3D;
        &#x27;After refreshing, we got an id_token for another user (sub). &#x27; +
        &#x60;Expected sub: ${this.silentRefreshSubject}, received sub: ${claims[&#x27;sub&#x27;]}&#x60;

      this.logger.warn(err)
      return throwError(err)
    }

    if (!claims.iat) {
      const err &#x3D; &#x27;No iat claim in id_token&#x27;
      this.logger.warn(err)
      return throwError(err)
    }

    if (!this.config.skipIssuerCheck &amp;&amp; claims.iss !&#x3D;&#x3D; this.config.issuer) {
      const err &#x3D; &#x27;Wrong issuer: &#x27; + claims.iss
      this.logger.warn(err)
      return throwError(err)
    }

    const savedNonce &#x3D; this.getSavedNonce()
    if (!skipNonceCheck &amp;&amp; claims.nonce !&#x3D;&#x3D; savedNonce) {
      const err &#x3D; &#x27;Wrong nonce: &#x27; + claims.nonce
      this.logger.warn(err)
      return throwError(err)
    }
    // at_hash is not applicable to authorization code flow
    // addressing https://github.com/manfredsteyer/angular-oauth2-oidc/issues/661
    // i.e. Based on spec the at_hash check is only true for implicit code flow on Ping Federate
    // https://www.pingidentity.com/developer/en/resources/openid-connect-developers-guide.html
    if (
      this.hasOwnProperty(&#x27;responseType&#x27;) &amp;&amp;
      (this.config.responseType &#x3D;&#x3D;&#x3D; &#x27;code&#x27; || this.config.responseType &#x3D;&#x3D;&#x3D; &#x27;id_token&#x27;)
    ) {
      this.config.disableAtHashCheck &#x3D; true
    }
    if (!this.config.disableAtHashCheck &amp;&amp; this.config.requestAccessToken &amp;&amp; !claims[&#x27;at_hash&#x27;]) {
      const err &#x3D; &#x27;An at_hash is needed!&#x27;
      this.logger.warn(err)
      return throwError(err)
    }

    const now &#x3D; this.dateTimeService.now()
    const issuedAtMSec &#x3D; claims.iat * 1000
    const expiresAtMSec &#x3D; claims.exp * 1000
    const clockSkewInMSec &#x3D; this.getClockSkewInMsec() // (this.getClockSkewInMsec() || 600) * 1000

    if (issuedAtMSec - clockSkewInMSec &gt;&#x3D; now || expiresAtMSec + clockSkewInMSec &lt;&#x3D; now) {
      const err &#x3D; &#x27;Token has expired&#x27;
      console.error(err)
      console.error({
        now: now,
        issuedAtMSec: issuedAtMSec,
        expiresAtMSec: expiresAtMSec,
      })
      return throwError(err)
    }

    const validationParams: ValidationParams &#x3D; {
      accessToken: accessToken,
      idToken: idToken,
      jwks: this.config.jwks,
      idTokenClaims: claims,
      idTokenHeader: header,
      loadKeys: () &#x3D;&gt; this.loadJwks&lt;object&gt;(),
    }

    if (this.config.disableAtHashCheck) {
      return this.checkSignature(validationParams).pipe(
        map(() &#x3D;&gt; {
          const result: ParsedIdToken &#x3D; {
            idToken: idToken,
            idTokenClaims: claims,
            idTokenClaimsJson: claimsJson,
            idTokenHeader: header,
            idTokenHeaderJson: headerJson,
            idTokenExpiresAt: expiresAtMSec,
          }
          return result
        })
      )
    }

    if (!this.config.disableAtHashCheck) {
      const atHashValid &#x3D; this.checkAtHash(validationParams)
      if (this.config.requestAccessToken &amp;&amp; !atHashValid) {
        const err &#x3D; &#x27;Wrong at_hash&#x27;
        this.logger.warn(err)
        return throwError(err)
      }
    }

    return this.checkSignature(validationParams).pipe(
      map(() &#x3D;&gt; {
        const result: ParsedIdToken &#x3D; {
          idToken: idToken,
          idTokenClaims: claims,
          idTokenClaimsJson: claimsJson,
          idTokenHeader: header,
          idTokenHeaderJson: headerJson,
          idTokenExpiresAt: expiresAtMSec,
        }
        if (!this.config.disableAtHashCheck) {
          const atHashValid &#x3D; this.checkAtHash(validationParams)
          if (this.config.requestAccessToken &amp;&amp; !atHashValid) {
            const err &#x3D; &#x27;Wrong at_hash&#x27;
            this.logger.warn(err)
            throw err
          }
        }
        return result
      })
    )
  }

  /**
   * Returns the received claims about the user.
   */
  public getIdentityClaims(): object | null {
    if (!this._storage) return null
    const claims &#x3D; this._storage.getItem(&#x27;id_token_claims_obj&#x27;)
    return !!claims ? JSON.parse(claims) : null
  }

  /**
   * Returns the granted scopes from the server.
   */
  public getGrantedScopes(): object {
    const scopes &#x3D; this._storage.getItem(&#x27;granted_scopes&#x27;)
    if (!scopes) {
      return null
    }
    return JSON.parse(scopes)
  }

  /**
   * Returns the current id_token.
   */
  public getIdToken(): string | null {
    return this._storage ? this._storage.getItem(&#x27;id_token&#x27;) : null
  }

  protected padBase64(base64data: string): string {
    while (base64data.length % 4 !&#x3D;&#x3D; 0) {
      base64data +&#x3D; &#x27;&#x3D;&#x27;
    }
    return base64data
  }

  /**
   * Returns the current access_token.
   */
  public getAccessToken(): string | null {
    return this._storage ? this._storage.getItem(&#x27;access_token&#x27;) : null
  }

  public getRefreshToken(): string | null {
    return this._storage ? this._storage.getItem(&#x27;refresh_token&#x27;) : null
  }

  /**
   * Returns the expiration date of the access_token
   * as milliseconds since 1970.
   */
  public getAccessTokenExpiration(): number | null {
    if (!this._storage.getItem(&#x27;expires_at&#x27;)) {
      return null
    }
    return parseInt(this._storage.getItem(&#x27;expires_at&#x27;), 10)
  }

  protected getAccessTokenStoredAt(): number {
    return parseInt(this._storage.getItem(&#x27;access_token_stored_at&#x27;), 10)
  }

  protected getIdTokenStoredAt(): number {
    return parseInt(this._storage.getItem(&#x27;id_token_stored_at&#x27;), 10)
  }

  /**
   * Returns the expiration date of the id_token
   * as milliseconds since 1970.
   */
  public getIdTokenExpiration(): number | null {
    if (!this._storage.getItem(&#x27;id_token_expires_at&#x27;)) {
      return null
    }

    return parseInt(this._storage.getItem(&#x27;id_token_expires_at&#x27;), 10)
  }

  /**
   * Checkes, whether there is a valid access_token.
   */
  public hasValidAccessToken(): boolean {
    if (this.getAccessToken()) {
      const expiresAt &#x3D; this._storage.getItem(&#x27;expires_at&#x27;)
      const now &#x3D; this.dateTimeService.new()
      if (expiresAt &amp;&amp; parseInt(expiresAt, 10) &lt; now.getTime() - this.getClockSkewInMsec()) {
        return false
      }

      return true
    }

    return false
  }

  /**
   * Checks whether there is a valid id_token.
   */
  public hasValidIdToken(): boolean {
    if (this.getIdToken()) {
      const expiresAt &#x3D; this._storage.getItem(&#x27;id_token_expires_at&#x27;)
      const now &#x3D; this.dateTimeService.new()
      if (expiresAt &amp;&amp; parseInt(expiresAt, 10) &lt; now.getTime() - this.getClockSkewInMsec()) {
        return false
      }

      return true
    }

    return false
  }

  /**
   * Retrieve a saved custom property of the TokenReponse object. Only if predefined in authconfig.
   */
  public getCustomTokenResponseProperty&lt;T&gt;(requestedProperty: string): T | null {
    const item &#x3D;
      this._storage &amp;&amp;
        this.config.customTokenParameters &amp;&amp;
        this.config.customTokenParameters.indexOf(requestedProperty) &gt;&#x3D; 0
        ? this._storage.getItem(requestedProperty)
        : null
    return item !&#x3D;&#x3D; null ? (JSON.parse(item) as T) : null
  }

  /**
   * Returns the auth-header that can be used
   * to transmit the access_token to a service
   */
  public authorizationHeader(): string {
    return &#x60;Bearer ${this.getAccessToken()}&#x60;
  }

  /**
   * Removes all tokens and logs the user out.
   * If a logout url is configured, the user is
   * redirected to it with optional state parameter.
   *
   * @param noRedirectToLogoutUrl
   * @param state
   */
  public logOut(noRedirectToLogoutUrl: boolean &#x3D; false, customParameters?: object, state?: string): void {
    customParameters &#x3D; customParameters || {}
    state &#x3D; state || &#x27;&#x27;

    const idToken &#x3D; this.getIdToken()
    this._storage.removeItem(&#x27;access_token&#x27;)
    this._storage.removeItem(&#x27;id_token&#x27;)
    this._storage.removeItem(&#x27;refresh_token&#x27;)

    if (this.saveNoncesInLocalStorage) {
      localStorage.removeItem(&#x27;nonce&#x27;)
      localStorage.removeItem(&#x27;PKCE_verifier&#x27;)
    } else {
      this._storage.removeItem(&#x27;nonce&#x27;)
      this._storage.removeItem(&#x27;PKCE_verifier&#x27;)
    }

    this._storage.removeItem(&#x27;expires_at&#x27;)
    this._storage.removeItem(&#x27;id_token_claims_obj&#x27;)
    this._storage.removeItem(&#x27;id_token_expires_at&#x27;)
    this._storage.removeItem(&#x27;id_token_stored_at&#x27;)
    this._storage.removeItem(&#x27;access_token_stored_at&#x27;)
    this._storage.removeItem(&#x27;granted_scopes&#x27;)
    this._storage.removeItem(&#x27;session_state&#x27;)
    if (this.config.customTokenParameters) {
      this.config.customTokenParameters.forEach(customParam &#x3D;&gt; this._storage.removeItem(customParam))
    }
    this.silentRefreshSubject &#x3D; null

    this.eventsSubject.next(new OAuthInfoEvent(&#x27;logout&#x27;))

    if (!this.config.logoutUrl) {
      return
    }
    if (noRedirectToLogoutUrl) {
      return
    }

    if (!idToken &amp;&amp; !this.config.postLogoutRedirectUri) {
      return
    }

    let logoutUrl: string

    this.assertUrlNotEmptyAndCorrectProtocol(this.config.logoutUrl, &#x27;logoutUrl&#x27;)

    // For backward compatibility
    if (this.config.logoutUrl.indexOf(&#x27;{{&#x27;) &gt; -1) {
      logoutUrl &#x3D; this.config.logoutUrl
        .replace(/\{\{id_token\}\}/, encodeURIComponent(idToken))
        .replace(/\{\{client_id\}\}/, encodeURIComponent(this.config.clientId))
    } else {
      let params &#x3D; new HttpParams({ encoder: new WebHttpUrlEncodingCodec() })

      if (idToken) {
        params &#x3D; params.set(&#x27;id_token_hint&#x27;, idToken)
      }

      const postLogoutUrl &#x3D;
        this.config.postLogoutRedirectUri ||
        (this.config.redirectUriAsPostLogoutRedirectUriFallback &amp;&amp; this.config.redirectUri) ||
        &#x27;&#x27;
      if (postLogoutUrl) {
        params &#x3D; params.set(&#x27;post_logout_redirect_uri&#x27;, postLogoutUrl)

        if (state) {
          params &#x3D; params.set(&#x27;state&#x27;, state)
        }
      }

      for (const key in customParameters) {
        if (!Object.prototype.hasOwnProperty.call(customParameters, key)) {
          continue
        }
        params &#x3D; params.set(key, customParameters[key])
      }

      logoutUrl &#x3D; this.config.logoutUrl + (this.config.logoutUrl.indexOf(&#x27;?&#x27;) &gt; -1 ? &#x27;&amp;&#x27; : &#x27;?&#x27;) + params.toString()
    }
    this.config.openUri(logoutUrl)
  }

  private createAndSaveNonce(): string {
    const nonce &#x3D; this.createNonce()
    // Use localStorage for nonce if possible
    // localStorage is the only storage who survives a
    // redirect in ALL browsers (also IE)
    // Otherwiese we&#x27;d force teams who have to support
    // IE into using localStorage for everything
    if (this.saveNoncesInLocalStorage &amp;&amp; typeof window[&#x27;localStorage&#x27;] !&#x3D;&#x3D; &#x27;undefined&#x27;) {
      localStorage.setItem(&#x27;nonce&#x27;, nonce)
    } else {
      this._storage.setItem(&#x27;nonce&#x27;, nonce)
    }
    return nonce
  }

  private getSavedNonce(): string | null {
    if (this.saveNoncesInLocalStorage &amp;&amp; typeof window[&#x27;localStorage&#x27;] !&#x3D;&#x3D; &#x27;undefined&#x27;) {
      return localStorage.getItem(&#x27;nonce&#x27;)
    }
    return this._storage ? this._storage.getItem(&#x27;nonce&#x27;) : null
  }

  /**
   * @ignore
   */
  public ngOnDestroy(): void {
    this.clearAccessTokenTimer()
    this.clearIdTokenTimer()

    this.removeSilentRefreshEventListener()
    const silentRefreshFrame &#x3D; this.document.getElementById(this.config.silentRefreshIFrameName)
    if (silentRefreshFrame) {
      silentRefreshFrame.remove()
    }

    this.stopSessionCheckTimer()
    this.removeSessionCheckEventListener()
    const sessionCheckFrame &#x3D; this.document.getElementById(this.config.sessionCheckIFrameName)
    if (sessionCheckFrame) {
      sessionCheckFrame.remove()
    }
  }

  private createNonce(): string {
    if (this.config.rngUrl) {
      throw new Error(&#x27;createNonce with rng-web-api has not been implemented so far&#x27;)
    }

    /*
     * This alphabet is from:
     * https://tools.ietf.org/html/rfc7636#section-4.1
     *
     * [A-Z] / [a-z] / [0-9] / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;
     */
    const unreserved &#x3D; &#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~&#x27;
    let size &#x3D; 45
    let id &#x3D; &#x27;&#x27;

    const crypto &#x3D; typeof self &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27; ? null : self.crypto || self[&#x27;msCrypto&#x27;]
    if (crypto) {
      let bytes &#x3D; new Uint8Array(size)
      crypto.getRandomValues(bytes)

      // Needed for IE
      if (!bytes.map) {
        ; (bytes as any).map &#x3D; Array.prototype.map
      }

      bytes &#x3D; bytes.map(x &#x3D;&gt; unreserved.charCodeAt(x % unreserved.length))
      id &#x3D; String.fromCharCode.apply(null, bytes)
    } else {
      while (0 &lt; size--) {
        // eslint-disable-next-line no-bitwise
        id +&#x3D; unreserved[(Math.random() * unreserved.length) | 0]
      }
    }

    return base64UrlEncode(id)
  }

  protected checkAtHash(params: ValidationParams): Observable&lt;boolean&gt; {
    if (!this.tokenValidationHandler) {
      this.logger.warn(&#x60;No &quot;tokenValidationHandler&quot; configured. Skipping &#x27;at_hash&#x27; check.&#x60;)
      return of(true)
    }
    return this.tokenValidationHandler.validateAtHash(params)
  }

  protected checkSignature(params: ValidationParams): Observable&lt;boolean&gt; {
    if (!this.tokenValidationHandler) {
      this.logger.warn(&#x60;No &quot;tokenValidationHandler&quot; configured. Skipping &#x27;signature&#x27; check.&#x60;)
      return of(true)
    }
    return this.tokenValidationHandler.validateSignature(params)
  }

  /**
   * Start the implicit flow or the code flow,
   * depending on your configuration.
   */
  public initLoginFlow(additionalState &#x3D; &#x27;&#x27;, params &#x3D; {}): void {
    if (this.config.responseType &#x3D;&#x3D;&#x3D; &#x27;code&#x27;) {
      return this.initCodeFlow(additionalState, params)
    } else {
      return this.initImplicitFlow(additionalState, params)
    }
  }

  /**
   * Starts the authorization code flow and redirects to user to
   * the auth servers login url.
   */
  public initCodeFlow(additionalState &#x3D; &#x27;&#x27;, params &#x3D; {}): void {
    if (this.config.loginUrl !&#x3D;&#x3D; &#x27;&#x27;) {
      this.initCodeFlowInternal(additionalState, params)
    } else {
      this.events
        .pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;discovery_document_loaded&#x27;))
        .subscribe(_ &#x3D;&gt; this.initCodeFlowInternal(additionalState, params))
    }
  }

  private initCodeFlowInternal(additionalState &#x3D; &#x27;&#x27;, params &#x3D; {}): void {
    this.assertUrlNotEmptyAndCorrectProtocol(this.config.loginUrl, &#x27;loginUrl&#x27;)

    let addParams &#x3D; {}
    let loginHint &#x3D; null
    if (typeof params &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
      loginHint &#x3D; params
    } else if (typeof params &#x3D;&#x3D;&#x3D; &#x27;object&#x27;) {
      addParams &#x3D; params
    }

    this.createLoginUrl(additionalState, loginHint, null, false, addParams)
      .pipe(map(url &#x3D;&gt; this.config.openUri(url)))
      .subscribe({
        error: (err) &#x3D;&gt; {
          console.error(&#x27;Error in initAuthorizationCodeFlow&#x27;, err)
        },
      })
  }

  protected createChallangeVerifierPairForPKCE(): [string, string] {
    if (!this.crypto) {
      throw new Error(
        &#x27;PKCE support for code flow needs a CryptoHander. &#x27; + &#x27;Did you import the OAuthModule using forRoot() ?&#x27;
      )
    }

    const verifier &#x3D; this.createNonce()
    const challengeRaw &#x3D; this.crypto.toSha256(verifier)
    const challenge &#x3D; base64UrlEncode(challengeRaw)

    return [challenge, verifier]
  }

  private extractRecognizedCustomParameters(tokenResponse: TokenResponse): Map&lt;string, string&gt; {
    const foundParameters: Map&lt;string, string&gt; &#x3D; new Map&lt;string, string&gt;()
    if (!this.config.customTokenParameters) {
      return foundParameters
    }
    this.config.customTokenParameters.forEach((recognizedParameter: string) &#x3D;&gt; {
      if (tokenResponse[recognizedParameter]) {
        foundParameters.set(recognizedParameter, JSON.stringify(tokenResponse[recognizedParameter]))
      }
    })
    return foundParameters
  }

  /**
   * Revokes the auth token to secure the vulnarability
   * of the token issued allowing the authorization server to clean
   * up any security credentials associated with the authorization
   */
  public revokeTokenAndLogout(
    logoutOpts: {
      noRedirectToLogoutUrl?: boolean
      customParameters?: object
    } &#x3D; {},
    ignoreCorsIssues &#x3D; false
  ): Observable&lt;boolean&gt; {
    let applyCorsIssueHandler &#x3D; it &#x3D;&gt; it // noop
    if (ignoreCorsIssues) {
      applyCorsIssueHandler &#x3D; &lt;T&gt;(it: Observable&lt;T&gt;) &#x3D;&gt;
        it.pipe(
          catchError((err: HttpErrorResponse) &#x3D;&gt; {
            if (err.status &#x3D;&#x3D;&#x3D; 0) {
              return of&lt;void&gt;(null)
            }
            return throwError(err)
          })
        )
    }
    return of({})
      .pipe(
        tap(() &#x3D;&gt; this.debug(&#x27;starting to revoke and logout&#x27;)),
        map(() &#x3D;&gt; this.assertUrlNotEmptyAndCorrectProtocol(this.config.revocationEndpoint, &#x27;revocationEndpoint&#x27;)),
        map(() &#x3D;&gt; this.getAccessToken()),
        takeWhile(token &#x3D;&gt; !!token), // skip entire flow when no token exists
        map(() &#x3D;&gt; ({
          params: new HttpParams({ encoder: new WebHttpUrlEncodingCodec() }),
          headers: new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;),
        })),
        map((opts) &#x3D;&gt; {
          if (this.config.useHttpBasicAuth) {
            opts.headers &#x3D; opts.headers.set(&#x27;Authorization&#x27;, &#x60;Basic ${this.createBasicAuthDummyValue()}&#x60;)
          } else {
            opts.params &#x3D; opts.params.set(&#x27;client_id&#x27;, this.config.clientId)
            if (!!this.config.dummyClientSecret)
              opts.params &#x3D; opts.params.set(&#x27;client_secret&#x27;, this.config.dummyClientSecret)
          }
          return opts
        }),
        map((opts) &#x3D;&gt; {
          if (this.config.customQueryParams) {
            for (const key of Object.getOwnPropertyNames(this.config.customQueryParams)) {
              opts.params &#x3D; opts.params.set(key, this.config.customQueryParams[key])
            }
          }
          return opts
        }),
        mergeMap((opts) &#x3D;&gt; {
          const flows: Observable&lt;void&gt;[] &#x3D; []

          const accessToken &#x3D; this.getAccessToken()
          // add access token revocation (we checked access token existence prior already)
          {
            const revoceAccessToken &#x3D; this.http.post&lt;void&gt;(
              this.config.revocationEndpoint,
              opts.params.set(&#x27;token&#x27;, accessToken).set(&#x27;token_type_hint&#x27;, &#x27;access_token&#x27;),
              { headers: opts.headers }
            )
            applyCorsIssueHandler(revoceAccessToken)
            flows.push(revoceAccessToken)
          }
          const refreshToken &#x3D; this.getRefreshToken()
          // add refresh token revocation, if exists
          if (!!refreshToken) {
            const revoceRefreshToken &#x3D; this.http.post&lt;void&gt;(
              this.config.revocationEndpoint,
              opts.params.set(&#x27;token&#x27;, accessToken).set(&#x27;token_type_hint&#x27;, &#x27;refresh_token&#x27;),
              { headers: opts.headers }
            )
            applyCorsIssueHandler(revoceRefreshToken)
            flows.push(revoceRefreshToken)
          }

          return combineLatest(flows)
        }),
        map(() &#x3D;&gt; true)
      )
      .pipe(
        tap(() &#x3D;&gt; {
          this.logOut(logoutOpts.noRedirectToLogoutUrl, logoutOpts.customParameters)
          this.debug(&#x27;tokens revoked sucessfully&#x27;)
        }),
        catchError((err) &#x3D;&gt; {
          this.logger.error(&#x27;failed revoking tokens&#x27;, err)
          this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_revoke_error&#x27;, err))
          return throwError(err)
        }),
        finalize(() &#x3D;&gt; this.debug(&#x27;done revoking tokens&#x27;))
      )
  }

  /**
   * Clear location.hash if it&#x27;s present
   */
  private clearLocationHash() {
    // Checking for empty hash is necessary for Firefox
    // as setting an empty hash to an empty string adds # to the URL
    if (!location.hash) {
      location.hash &#x3D; &#x27;&#x27;
    }
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'OAuthService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
